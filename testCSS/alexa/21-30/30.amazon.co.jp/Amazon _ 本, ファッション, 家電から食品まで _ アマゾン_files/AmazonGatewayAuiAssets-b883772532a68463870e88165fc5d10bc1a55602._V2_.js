(function(c,i,z){c.execute(function(){c.when("A").register("sg-jsutil",function(e){var c=e.$;return{safeCall:function(e,f){return c.isFunction(e)?e(f):f}}});c.when("A").register("dombinder",function(e){function c(b,d){for(var f=0,d=d.split("."),e=d.length;f<e;f++)b=b&&b[d[f]];return b}function h(l){return f.map(f(l).data("bind").split(","),function(d){var d=d.split(":"),e=f.trim(d[0]),c=f.trim(d[1]),m=b[e];if(m)return m.init&&m.init(l,c),function(d){m.update(l,c,d)}})}var f=e.$,b={text:{update:function(b,
d,e){f(b).text(c(e,d)||"")}},html:{update:function(b,d,e){f(b).html(c(e,d)||"")}},href:{update:function(b,d,e){f(b).attr("href",c(e,d)||"")}},trimText:{update:function(b,d){var e=f(b),c=e.text();if(c.length>d){for(var m=d-4;m>=0&&"[.,-/#!$%^&*;:{}=-_`~()] ".indexOf(c[m])>0;)m--;e.text(c.substring(0,m>=0?m+1:d-3)+"...")}}},value:{update:function(b,d,e){f(b).val(c(e,d)||"")}},visible:{update:function(b,d,e){var h=!1;d.charAt(0)==="!"&&(h=!0,d=d.substring(1));d=!!c(e,d);h!==d?f(b).show():f(b).hide()}},
css:{init:function(b,d){var e=f(b),c=e.data("dombcss")||[];c[d]="";e.data("dombcss",c)},update:function(b,d,e){var b=f(b),h=b.data("dombcss"),i=h[d],e=c(e,d);i!==e&&(h[d]=e,i&&b.removeClass(i),e&&b.addClass(e))}},attr:{init:function(b,d){var e=f(b),c=e.data("dombattr")||[];c[d]={};e.data("dombattr",c)},update:function(b,d,e){var h=f(b),b=h.data("dombattr"),i=b[d],e=c(e,d);i!==e&&(b[d]=e,i&&f.each(i,function(d){h.removeAttr(d)}),e&&f.each(e,function(d,a){h.attr(d,a)}))}}};return{init:function(b){var d=
{$root:b,bindings:[]};b.find("[data-bind]").each(function(){f.each(h(this),function(b,f){d.bindings.push(f)})});return d},update:function(b,d){f.each(b.bindings,function(b,f){f(d)})}}});c.when("A").register("gwAjax",function(e){return function(c,h){function f(d,b,f){typeof i.ue==="object"&&typeof i.ue.count==="function"&&(h.errorCounter?i.ue.count(h.errorCounter,(i.ue.count(h.errCounter)||0)+1):i.ue.count("gwAjaxError",(i.ue.count("gwAjaxError")||0)+1));typeof i.ueLogError==="function"&&i.ueLogError({logLevel:"WARN",
attribution:"gwAjax-"+(h.id||c),message:"gwAjax call failed "+(JSON&&JSON.stringify?JSON.stringify({url:c,"params-data":h.params||h.data}):"")});typeof l==="function"&&l(d,b,f)}var h=e.copy(h),b=h.success,l=h.error;h.success=function(d,e,l){d.error?f(d,e,l):typeof b==="function"&&b(d,e,l)};h.error=f;h.data=h.params?h.params:h.data;typeof i.ue==="object"&&typeof i.ue.count==="function"&&i.ue.count("gwAjaxCall",(i.ue.count("gwAjaxCall")||0)+1);return e.$.ajax(c,h)}});c.when("A","sg-jsutil","a-modal",
"gw-productdb","productdb-binding-helper","sg-media-builder","gw-sims","gw-popover-data").register("gw-popover",function(e,m,h,f,b,l,d,r){function n(a,g){i.uet&&i.uet(a,g,{wb:1})}function s(a){if(i.ue&&typeof i.ue.count==="function")return i.ue.count(a)||0}function q(a){i.ue&&typeof i.ue.count==="function"&&i.ue.count(a,(i.ue.count(a)||0)+1)}var a=e.$;if(!a("html").hasClass("a-touch")){var m=a('<span style="display: none" />').appendTo("body"),t=a("#gw-popover-wrapper"),o=new b(f,t),p=h.create(m,
{name:"gw-asin-popover",width:"90%","max-width":900,height:590,popoverLabel:r.popoverLabel,closeButton:!1}),g=a("#gw-quick-look-btn");a("#a-page").delegate("li[data-sgproduct]","mouseenter",function(d){a(d.currentTarget).append(g);a(d.currentTarget).find("[title]").removeAttr("title");g.addClass("active")});c.when("gwAjax").execute(function(g){var d={};a("#a-page").delegate(".fresh-shoveler li[data-sgproduct]","mouseenter mousemove",function(b){var b=a(b.currentTarget),j=[];b.add(b.prev("li[data-sgproduct]")).add(b.next("li[data-sgproduct]")).each(function(){var g=
a(this).data("sgproduct");if(g&&g.asin){var b=f.get(g.asin),k=(b=!(!d[g.asin]&&b&&b.loading))&&e.now()-d[g.asin]>1500;if(!b||k)j.push(g.asin),d[g.asin]=e.now()}});j.length&&(g("/gp/gw/ajax/pdb.html",{id:"quicklook-pdb",data:{swn:"productdb-ajax",sa:'{"asins": ["'+j.join('","')+'"]}',oe:'{"isDesktop":1,"isTablet":0,"isMobile":0}',rrid:i.ue_id},success:function(a){f._add(a);for(a=0;a<j.length;a++)d[j[a]]=Infinity}}),q("freshHoverCount"))})});a("#a-page").delegate("li[data-sgproduct]","mouseleave",function(){g.removeClass("active")});
var j="#a-popover-"+p.attrs("id")+" ",h=a.map([".a-popover-header { display: none; }",".a-popover-inner { padding: 0px !important; margin: 0px !important; overflow: hidden !important; height: 100% !important; }"],function(a){return j+a}).join(" ");a("head").append("<style>"+h+"</style>");var w=new d(o);e.on("a:popover:hide:gw-asin-popover",function(){i.history.state&&i.history.state.popup&&i.history.back();o.clear()});a(i).bind("popstate",function(){p.hide()});return{show:function(g,d){q("freshPopOverOn");
n("bb","popoverLatency"+s("freshPopOverOn"));i.history&&i.history.pushState&&i.history.pushState({popup:1},"");o.setAsin(g,{beforeUpdate:function(g){if(g.loading)return q("freshPopOverLoading"),g;var b=(new l(g.images[0])).autoCrop().scaleXY(500,400).build(),b={url:d,image:b,actionUrl:{action:"/gp/product/handle-buy-box/"+d.substring(d.indexOf("/ref=")+1,d.length)}};g.reviews&&(b.reviews=a.extend({},g.reviews,{url:d+"#customerReviews"}));w.fetch(g,d);n("cf","popoverLatency"+s("freshPopOverOn"));return a.extend({},
g,b)}});p.show()},hide:function(){p.hide()}}}});c.when("A","sg-media-builder").register("gw-sims",function(e,m){var h=e.$;return function(f){function b(a,g){i.uet&&i.uet(a,g,{wb:1})}function e(a){if(i.ue&&typeof i.ue.count==="function")return i.ue.count(a)||0}function d(a){i.ue&&i.ue.count(a,(i.ue.count(a)||0)+1)}function r(){x||(x=!0,D.fadeOut(300,function(){F.show();B.animate({height:"100%"},300);var a=0,g=0,d=0,k=parseInt(F.css("width"),10),f=F.find(".sims-img-link");f.each(function(b,f){a+=f.clientWidth;
k<a?h(f).hide():(g=a,d+=1)});var j=k-g;j>0&&(j=Math.floor(20+j/d-1),j>20&&f.css({"padding-right":j/2+"px","padding-left":j/2+"px"}));f="popoverLatency"+e("freshPopOverOn");b("be",f);i.uex&&i.uex("ld",f,{wb:1})}))}function n(){--j===0&&r()}function s(g,b){var k=h("<a>"),j=h("<div>");k.attr("class","sims-img-link");j.addClass("sims-img-border");b&&k.addClass("selected");k.click(function(){d("freshPopOverSimsClick");F.find(".sims-img-link").removeClass("selected");h(this).addClass("selected");f.clear();
f.setAsin(g.asin,{beforeUpdate:function(){var b;b=h.extend(!0,{},g);var k=g.url;if(b.loading)d("freshPopOverLoading");else{var f=(new m(b.images[0])).autoCrop().scaleXY(500,400).build(),f={url:k,image:f,actionUrl:{action:"/gp/product/handle-buy-box/"+a(k)}};b.reviews&&(f.reviews=h.extend({},b.reviews,{url:k+"#customerReviews"}));b=h.extend({},b,f)}return b}})});return k.append(j)}function q(){h.each(w,function(g,b){b.url=b.url.replace(/ref=gw_pdb_pdt-[\d]+/,a(k)+"&gw_sims-"+g)})}function a(a){return a.indexOf("redirect.html?")>=
0?a.replace(/.*redirect.html|(token|location)=.*?&/g,""):a.substring(a.indexOf("/ref=")+1,a.length)}function t(){x=!1;q();var a=[];j=w.length>j?j:w.length;h(w).each(function(g,b){b.loading=!1;if(b.images[0].src){var d=(new m(b.images[0])).autoCrop().scaleXY(130,100).build().src,k=h("<img>");k.attr("src",d);k.attr("class","sims-img");k.load(n);d=h("<div>");d.attr("class","sims-img-container");var f=h("<div>");f.addClass("sims-img-overlay");h(d).append(f);d.append(k);k=s(b,g===0);k.append(d);a.push(k)}return g<
j-1});j=a.length;h(a).each(function(a,g){F.append(g)});setTimeout(function(){r()},C)}function o(){c.when("gw-popover").execute(function(a){a.hide()})}function p(){D.fadeOut(300);B.addClass("hidden");A.bind("click",o)}function g(a){a&&a.p&&(w=h.merge(w,a.p));w.length>4?t():(d("simsLessThanThreshold"),p())}var j,w,k,C=1E4,x=!1,A=h("#sims-section"),B=A.find(".sims-wrapper"),D=A.find(".sims-loading"),F=A.find(".sims-details");h("#gw-asin-popover");return{fetch:function(a,d){b("af","popoverLatency"+e("freshPopOverOn"));
F.empty();B.add(D).removeAttr("style");B.removeClass("hidden");A.unbind("click",o);D.show();F.hide();k=d;w=[];j=8;w.push(a);c.when("gw-productdb").execute(function(b){b._ajax({asins:[],entityId:a.asin,datasetId:"purchase"},{success:g,error:p,id:"sims-"+a.asin})})}}}});c.when("A").execute(function(e){var m=e.$,h,f;if(!e.$("html").hasClass("a-touch"))if(i.cvox)i.ue&&i.ue.tag&&i.ue.tag("screenReaderOn");else{m("#a-page").delegate("*[data-sgproduct] #gw-quick-look-btn","click",function(f){b(f)});m("#a-page").delegate(".bestseller-list *[data-sgproduct]",
"click",function(f){b(f)});c.when("gw-popover").execute(function(b){h=b;m("#gw-popover-close").click(function(){h.hide()});f&&h.show.apply(h,f)});var b=function(b){if(!(b.which>1||b.shiftKey||b.altKey||b.metaKey||b.ctrlKey)){var d,e;m(b.target).parents(".bestseller-list").length?(d=m(b.currentTarget).data("sgproduct"),e=m(b.target).closest("a").attr("href")):(d=m("#gw-quick-look-btn").closest("*[data-sgproduct]").data("sgproduct"),e=m("#gw-quick-look-btn").siblings().children("a").attr("href"));var c=
[d.asin,e];d.asin&&e&&(b.preventDefault(),h?h.show.apply(h,c):f=c)}}}});c.when("A","sg-jsutil","dombinder").register("productdb-binding-helper",function(e,c,h){return function(f,b){function e(b,d){h.update(a,n(d.beforeUpdate,b));b.loading||n(d.load,b)}function d(a){r();q=function(){a(i)};i.pdb_observe(q)}function r(){i&&q&&(i.pdb_unobserve(q),q=null)}var n=c.safeCall,i=null,q=null,a=h.init(b);this.setAsin=function(a,b){b=b||{};r();i=f.get(a);e(i,b);i.loading&&d(function(a){e(a,b)});return i};this.clear=
function(){r();i={};h.update(a,i)}}});c.register("sg-media-builder",function(){return function(e){var c=this,h=e.src,f=[];c.build=function(){var b=f.join("_");return{src:h.replace(/\.([^.]+)$/,"._"+b+"_.$1"),alt:e.alt}};c.autoCrop=function(){f.push("AC");return c};c.scaleX=function(b){f.push("SX"+b);return c};c.scaleY=function(b){f.push("SY"+b);return c};c.upScaleX=function(b){f.push("UX"+b);return c};c.upScaleY=function(b){f.push("UY"+b);return c};c.scaleXY=function(b,f){return c.upScaleX(b).scaleY(f)}}});
c.when("A","gwAjax").register("shogunProductDB",function(e,c){function h(f){var d=[];b[f]={loading:!0,pdb_observe:function(b){d.push(b)},pdb_unobserve:function(b){d=e.$.grep(d,function(d){return d!==b})},_trigger:function(){e.$.each(d,function(){this.call(b[f])})}};return b[f]}function f(f,d){this.ajaxUrl=f;this.experienceStr=d;this._add=function(d){d.p&&e.$.each(d.p,function(d,f){if(f.asin){var c=b[f.asin]||h(f.asin);e.$.extend(c,f,{loading:!1,error:!1});c._trigger(f)}})};this.addSims=function(d,
f){if(f){var c=b[d]||h(d);e.$.extend(c,{sims:f});c._trigger(d)}};this._ajax=function(b,h){var s=e.$.extend(!0,{},f,{params:{sa:JSON.stringify(b),oe:d}});i.ue_sid&&(s.url+="/"+i.ue_sid);if(i.ue_id)s.params.rrid=i.ue_id;return c(s.url,{method:s.method,params:s.params,success:h.success,error:h.error,id:"gw-jslibs-"+h.id})};this.get=function(d){return d in b?b[d]:h(d)}}var b={};return function(b,d){return new f(b,d)}});c.when("A").register("component-feed-carousel",function(e){var c=e.$,h=function(f,
b,e){this.init(f,b,e)};h.prototype={init:function(f,b,l){e.$("html").hasClass("a-touch")&&f.addClass("feed-carousel-touch");this.adjustMarginOnChange=!0;this.defaultCssRightMargin=null;this.minItems=b||10;this.imgClass=".product-image";this.$carousel=f;this.cfMinItems=l||6;this.shovelerReadyFired=this.cfFired=!1;this.slotId=this.getSlotId();this.touch=this.$carousel.hasClass("feed-carousel-touch");this.ajaxSource=this.$carousel.parent().hasClass("ajaxSource");this.$shelf=this.$carousel.find(".feed-carousel-shelf");
this.$viewport=this.$carousel.find(".feed-carousel-viewport");this.$spinner=this.$carousel.find(".spinner");this.$left=c(".feed-carousel-control.feed-left",f);this.$right=c(".feed-carousel-control.feed-right",f);this.$buttons=c(".feed-carousel-control",f);this.$thumb=c(".feed-scrollbar-thumb",f);this.shelfLeft=-1*parseInt(this.$shelf.css("left"),10);this.calcWidth=c("html").hasClass("a-lt-ie9");this.noOpacity=c("html").hasClass("a-lt-ie9");this.$left.attr("aria-hidden",!0);this.$right.attr("aria-hidden",
!0);this.bindEvents();this.$carousel.data("Carousel",this);this.$carousel.trigger("change")},getSlotId:function(){var f=this.$carousel.closest(".gw-widget-instrument");return f.length>0?c(f[0]).attr("id"):null},bindEvents:function(){function f(b){return e.capabilities.pointerPrefix&&c.inArray(b.originalEvent.pointerType,[2,"touch"])>-1||e.capabilities.actionMode==="touch"}var b=this,l=c("body");b.$buttons.ready(function(){if(!b.shovelerReadyFired){if(b.slotId){var d=b.slotId.toString()+"-active";
i.GWI&&i.GWI.recordLatency(d);i.GWI&&i.GWI.register(d)}b.shovelerReadyFired=!0}});b.$carousel.change(function(){b.updateItems();b.updateSpinner();b.updateShelf();b.updateControls();if(b.defaultCssRightMargin===null&&b.$shelf.children("li").first())b.defaultCssRightMargin=parseInt(b.$shelf.children("li").first().css("margin-right"),10);b.adjustMarginOnChange&&b.adjustCardMargin()});b.$left.click(function(d){d.preventDefault();b.changePage(-1);b.slotId&&b.logCounter("gw-"+b.slotId.toString()+"-left")});
b.$right.click(function(d){d.preventDefault();b.changePage(1);b.slotId&&b.logCounter("gw-"+b.slotId.toString()+"-right")});b.bindImageLoadEvents(b.$shelf);var d;c(i).resize(function(){clearTimeout(d);d=setTimeout(function(){var d=b.getDimensions(),d=Math.max(Math.min(d.shelfLeft,d.maxLeft),0);b.moveShelf(d)},100)});b.$thumb.mousedown(function(d){var f=d.clientX;d.which===1&&(d.preventDefault(),b.$carousel.addClass("scrolling"),l.bind("mousemove.feed-carousel",function(d){var e=b.getDimensions(),e=
Math.max(Math.min(e.shelfLeft+1/e.pageRatio*(d.clientX-f),e.maxLeft),0);f=d.clientX;b.moveShelf(e)}),c(document).bind("selectstart.feed-carousel",function(){return!1}))});l.add(i).mouseup(function(){b.$carousel.removeClass("scrolling");b.$carousel.hasClass("hovering")||b.hideControls();l.unbind("mousemove.feed-carousel");c(document).unbind("selectstart.feed-carousel")});b.$carousel.hover(function(){b.$carousel.addClass("hovering");clearTimeout(b.hoverTimer);b.hoverTimer=setTimeout(function(){b.$carousel.hasClass("hovering")&&
!b.$carousel.hasClass("touching")?b.showControls():b.$carousel.removeClass("touching")},300)},function(){b.$carousel.removeClass("hovering touching");clearTimeout(b.hoverTimer);if(!b.$carousel.hasClass("scrolling"))b.hoverTimer=setTimeout(function(){b.$carousel.hasClass("hovering")||b.hideControls()},600)});b.$carousel.bind(e.action.start,function(d){if(f(d))b.$carousel.addClass("touching"),clearTimeout(b.touchTimer),b.touchTimer=setTimeout(function(){b.$carousel.removeClass("touching")},5E3)});b.$carousel.bind(e.action.end,
function(d){f(d)&&(b.$carousel.removeClass("touching"),clearTimeout(b.touchTimer),clearTimeout(b.hoverTimer))});b.$viewport.scroll(function(){b.shelfLeft=b.$viewport.scrollLeft();b.updateControls()})},bindImageLoadEvents:function(f){var b=this;c(b.imgClass,f).one("load",function(){b.$carousel.trigger("change")})},getDimensions:function(){var f=this.$shelf.width(),b=this.shelfLeft,e=this.$carousel.width();return{pageWidth:e,shelfWidth:f,shelfLeft:b,pageRatio:e/f,leftRatio:b/f,maxLeft:f-e}},updateItems:function(){var f=
this,b=f.$shelf.find(".feed-carousel-card"),e=function(d){return d.css("display")==="none"};b.each(function(d,b){var h=c(b);if(!e(h))return!0;h.attr("aria-setsize",f.$shelf.find(".feed-carousel-card").size());h.attr("aria-posinset",d+1);h.attr("aria-hidden",!1);h.attr("role","listitem");if(h.find(f.imgClass).filter(function(){return!this.complete}).length<=0){h.css("display","inline-block");if(d>=f.cfMinItems&&!f.cfFired)f.slotId&&(h=f.slotId.toString()+"-visible",i.GWI&&i.GWI.recordLatency(h),i.GWI&&
i.GWI.register(h)),f.cfFired=!0;return!0}else return!1});f.$items=b.filter(function(){return!e(c(this))})},updateShelf:function(){var f=0;this.calcWidth&&(this.$shelf.children().each(function(){f+=c(this).outerWidth(!0)}),this.$shelf.width(f));this.touch&&this.$carousel.not(".fresh-shoveler-tablet-app .feed-carousel").height(this.$shelf.outerHeight(!0))},updateSpinner:function(){this.size()<this.minItems&&this.ajaxSource?this.$spinner.show():(this.size()<this.minItems&&typeof i.ue==="object"&&typeof i.ue.count===
"function"&&i.ue.count("shovelerNotEnoughItem",(i.ue.count("shovelerNotEnoughItem")||0)+1),this.$spinner.hide())},updateControls:function(){this.updateArrows();this.updateScrollThumb()},showControls:function(f){this.$thumb.add(this.$buttons).stop(!0,!0).fadeIn({duration:300,complete:f,queue:!1})},hideControls:function(f){var b=this.$thumb;if(!this.$carousel.hasClass("first-carousel")||this.touch)b=b.add(this.$buttons);b.stop(!0,!0).fadeOut({duration:300,complete:f,queue:!1})},appendCards:function(f){this.$shelf.append(f);
this.bindImageLoadEvents(f);this.$carousel.trigger("change")},updateArrows:function(){var f=this,b=f.getDimensions();c.each([{$e:f.$left,enabled:b.shelfLeft>0},{$e:f.$right,enabled:b.shelfLeft<b.maxLeft}],function(b,d){var e=d.$e;d.enabled?e.removeClass("feed-control-disabled"):e.addClass("feed-control-disabled");f.noOpacity&&(d.enabled?e.css("opacity","1"):e.css("opacity","0.5"))})},updateScrollThumb:function(){var f=this.getDimensions(),b=f.leftRatio*f.pageWidth;this.$thumb.width(Math.min(f.pageRatio*
f.pageWidth,f.pageWidth)).each(function(){c(this).animate({left:b},0)})},logCounter:function(f){typeof i.ue==="object"&&typeof i.ue.count==="function"&&(i.ue.count(f,(i.ue.count(f)||0)+1),i.ue.count("gw-shoveler-click",1))},changePage:function(f){var b=this.getDimensions(),e=this.alignWithItem(b.shelfLeft+f*b.pageWidth),e=Math.min(f<0?e.right:e.left,b.maxLeft);b.shelfLeft===e?(this.bounce(this.$shelf,-30*f),this.bounce(this.$thumb,6*f)):this.moveShelf(e,400)},moveShelf:function(f,b){var e=this,b=
b||0;e.shelfLeft=f;if(e.touch)e.$viewport.animate({scrollLeft:f},b,"swing",function(){e.updateArrows()});else{var d=e.getDimensions(),d=f/d.shelfWidth*d.pageWidth;e.$shelf.animate({left:-f},b,"swing",function(){e.updateArrows()});e.$thumb.animate({left:d},b,"swing",function(){e.updateScrollThumb()})}},getItems:function(){return this.$items},size:function(){return this.getItems().length},alignWithItem:function(f){if(f<0)return{left:0,right:0};var b=this,e=b.getItems(),d=e.map(function(){var d=b.cardPosition(c(this));
if(f>=d.left&&f<=d.right)return d}).get(0);return d?d:b.cardPosition(e.last())},cardPosition:function(f){var b=f.position().left,f=b+f.outerWidth(!0);return{left:b,right:f}},bounce:function(f,b){function e(b){var f={};f[d.touch?"left":"marginLeft"]=b;return f}var d=this;f.each(function(){var d=c(this);d.animate(e(b),400,"swing",function(){d.animate(e(0),100)})})},setCardMargin:function(f){this.$shelf.children("li").first()&&this.$shelf.children("li").first().css("margin-right")!==f+"px"&&(this.$shelf.children("li").css("margin-right",
f+"px"),this.updateShelf())},adjustCardMargin:function(f){f=f===z||f===null?this.defaultCssRightMargin:f;this.setCardMargin(f);var b=this.getDimensions(),b=b.maxLeft<0?Math.ceil(-b.maxLeft/this.size()):f;this.setCardMargin(b<f?f:b)}};return{createCarousel:function(f,b){c(f).each(function(f,d){var c=e.$(d);new h(c,b)})}}})})})(function(){var c=window.AmazonUIPageJS||window.P,i=c._namespace||c.attributeErrors;return i?i("AmazonGatewayAuiAssets"):c}(),window);