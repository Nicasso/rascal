/* Built on 2016-05-23 17:14:28 */
!function(e,t){"object"==typeof exports&&exports&&"string"!=typeof exports.nodeName?t(exports):"function"==typeof define&&define.amd?define("mustache",["exports"],t):(e.Mustache={},t(e.Mustache))}(this,function(e){function t(e){return"function"==typeof e}function n(e){return g(e)?"array":typeof e}function o(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"==typeof e&&t in e}function s(e,t){return v.call(e,t)}function a(e){return!s(m,e)}function r(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return b[e]})}function l(t,n){function i(){if(m&&!b)for(;v.length;)delete p[v.pop()];else v=[];m=!1,b=!1}function s(e){if("string"==typeof e&&(e=e.split(y,2)),!g(e)||2!==e.length)throw new Error("Invalid tags: "+e);r=new RegExp(o(e[0])+"\\s*"),l=new RegExp("\\s*"+o(e[1])),h=new RegExp("\\s*"+o("}"+e[1]))}if(!t)return[];var r,l,h,f=[],p=[],v=[],m=!1,b=!1;s(n||e.tags);for(var k,E,C,$,S,O,M=new u(t);!M.eos();){if(k=M.pos,C=M.scanUntil(r))for(var N=0,R=C.length;R>N;++N)$=C.charAt(N),a($)?v.push(p.length):b=!0,p.push(["text",$,k,k+1]),k+=1,"\n"===$&&i();if(!M.scan(r))break;if(m=!0,E=M.scan(T)||"name",M.scan(_),"="===E?(C=M.scanUntil(w),M.scan(w),M.scanUntil(l)):"{"===E?(C=M.scanUntil(h),M.scan(x),M.scanUntil(l),E="&"):C=M.scanUntil(l),!M.scan(l))throw new Error("Unclosed tag at "+M.pos);if(S=[E,C,k,M.pos],p.push(S),"#"===E||"^"===E)f.push(S);else if("/"===E){if(O=f.pop(),!O)throw new Error('Unopened section "'+C+'" at '+k);if(O[1]!==C)throw new Error('Unclosed section "'+O[1]+'" at '+k)}else"name"===E||"{"===E||"&"===E?b=!0:"="===E&&s(C)}if(O=f.pop())throw new Error('Unclosed section "'+O[1]+'" at '+M.pos);return d(c(p))}function c(e){for(var t,n,o=[],i=0,s=e.length;s>i;++i)t=e[i],t&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(o.push(t),n=t));return o}function d(e){for(var t,n,o=[],i=o,s=[],a=0,r=e.length;r>a;++a)switch(t=e[a],t[0]){case"#":case"^":i.push(t),s.push(t),i=t[4]=[];break;case"/":n=s.pop(),n[5]=t[2],i=s.length>0?s[s.length-1][4]:o;break;default:i.push(t)}return o}function u(e){this.string=e,this.tail=e,this.pos=0}function h(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function f(){this.cache={}}var p=Object.prototype.toString,g=Array.isArray||function(e){return"[object Array]"===p.call(e)},v=RegExp.prototype.test,m=/\S/,b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},_=/\s*/,y=/\s+/,w=/\s*=/,x=/\s*\}/,T=/#|\^|\/|>|\{|&|=|!/;u.prototype.eos=function(){return""===this.tail},u.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},u.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},h.prototype.push=function(e){return new h(e,this)},h.prototype.lookup=function(e){var n,o=this.cache;if(o.hasOwnProperty(e))n=o[e];else{for(var s,a,r=this,l=!1;r;){if(e.indexOf(".")>0)for(n=r.view,s=e.split("."),a=0;null!=n&&a<s.length;)a===s.length-1&&(l=i(n,s[a])),n=n[s[a++]];else n=r.view[e],l=i(r.view,e);if(l)break;r=r.parent}o[e]=n}return t(n)&&(n=n.call(this.view)),n},f.prototype.clearCache=function(){this.cache={}},f.prototype.parse=function(e,t){var n=this.cache,o=n[e];return null==o&&(o=n[e]=l(e,t)),o},f.prototype.render=function(e,t,n){var o=this.parse(e),i=t instanceof h?t:new h(t);return this.renderTokens(o,i,n,e)},f.prototype.renderTokens=function(e,t,n,o){for(var i,s,a,r="",l=0,c=e.length;c>l;++l)a=void 0,i=e[l],s=i[0],"#"===s?a=this.renderSection(i,t,n,o):"^"===s?a=this.renderInverted(i,t,n,o):">"===s?a=this.renderPartial(i,t,n,o):"&"===s?a=this.unescapedValue(i,t):"name"===s?a=this.escapedValue(i,t):"text"===s&&(a=this.rawValue(i)),void 0!==a&&(r+=a);return r},f.prototype.renderSection=function(e,n,o,i){function s(e){return a.render(e,n,o)}var a=this,r="",l=n.lookup(e[1]);if(l){if(g(l))for(var c=0,d=l.length;d>c;++c)r+=this.renderTokens(e[4],n.push(l[c]),o,i);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)r+=this.renderTokens(e[4],n.push(l),o,i);else if(t(l)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");l=l.call(n.view,i.slice(e[3],e[5]),s),null!=l&&(r+=l)}else r+=this.renderTokens(e[4],n,o,i);return r}},f.prototype.renderInverted=function(e,t,n,o){var i=t.lookup(e[1]);return!i||g(i)&&0===i.length?this.renderTokens(e[4],t,n,o):void 0},f.prototype.renderPartial=function(e,n,o){if(o){var i=t(o)?o(e[1]):o[e[1]];return null!=i?this.renderTokens(this.parse(i),n,o,i):void 0}},f.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);return null!=n?n:void 0},f.prototype.escapedValue=function(t,n){var o=n.lookup(t[1]);return null!=o?e.escape(o):void 0},f.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.2.1",e.tags=["{{","}}"];var k=new f;e.clearCache=function(){return k.clearCache()},e.parse=function(e,t){return k.parse(e,t)},e.render=function(e,t,o){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+n(e)+'" was given as the first argument for mustache#render(template, view, partials)');return k.render(e,t,o)},e.to_html=function(n,o,i,s){var a=e.render(n,o,i);return t(s)?void s(a):a},e.escape=r,e.Scanner=u,e.Context=h,e.Writer=f}),define("includes/tools",[],function(){var e={};e.encloseTextWithTag=function(e,t){return"string"!=typeof e||0!==e.length&&"<"===e[0]?e:"<"+t+">"+e+"</"+t+">"},e.parseUrl=function(e,t,n){var o={body:null,query:null,hash:null},i=e.split("#");if(2===i.length){if("hash"===t)return i[1];o.hash=i[1]}if("hash"===t)return null;if(e=i[0],i=e.split("?"),2===i.length&&(o.query=i[1]),o.body=i[0],"undefined"!=typeof n&&n){var s=o.query;if(o.query={},s)for(var a=s.split("&"),r=0;r<a.length;r++){var l=a[r];if(l.length){var c=l.split("=");o.query[c.shift()]=c.join("=")}}}return"undefined"!=typeof t&&t&&"undefined"!=typeof o[t]?o[t]:o},e.getUrlHash=function(){return window.location.hash.substr(1)},e.setUrlHash=function(e){"#"!==e.substr(0,1)&&(e="#"+e),e!==window.location.hash&&(window.location.hash=e)},e.pad=function(e,t,n,o){("undefined"==typeof o||"left"!==o)&&(o="right");for(var i=""+e;i.length<t;)"left"===o?i=n+i:i+=n;return i},e.ucfirst=function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()},e.cleanStr=function(t,n){return t=t.replace(new RegExp("[[\\]{}()*+?.,\\^$|#\\s]"),"\\$&"),n?e.translit(t):t},e.translit=function(e){return e.toLowerCase().replace(/[àáâãäå]/g,"a").replace(/æ/g,"ae").replace(/ç/g,"c").replace(/[èéêë]/g,"e").replace(/[ìíîï]/g,"i").replace(/ñ/g,"n").replace(/[òóôõö]/g,"o").replace(/œ/g,"oe").replace(/[ùúûü]/g,"u").replace(/[ýÿ]/g,"y")};var t={};return e.preloadPicture=function(e,n){var o=e;if(n&&(o+=n+".jpg"),"undefined"==typeof t[o]){var i=new Image;i.src=o,t[o]=!0}},e.scrollTo=function(e,t){"undefined"==typeof t&&(t=0),$("html,body").animate({scrollTop:$(e).offset().top-10})},e}),define("includes/converter",[],function(){var e={},t={in2cm:2.54,lbs2kg:.45359237},n={"in":"cm",cm:"in",lbs:"kg",kg:"lbs"};return e.map=function(e){return n[e]},e.convert=function(e,o,i,s){"undefined"!=typeof i&&i||(i=n[o]);var a,r=o+"2"+i;if("undefined"==typeof t[r]){if(r=i+"2"+o,"undefined"==typeof t[r])return!1;a=1/t[r]}else a=t[r];var l=e*a;if("undefined"!=typeof s){if(0===s)return Math.round(l);var c=Math.pow(10,s);l=Math.round(l*c)/c}return l},e.trimPx=function(e){return parseInt(e.replace(/[^\d]/g,""))},e}),define("includes/jquery/cursor",[],function(){$.fn.getCursorPosition=function(){return 0===this.lengh?-1:$(this).getSelectionStart()},$.fn.setCursorPosition=function(e){return 0===this.lengh?-1:$(this).setSelection(e,e)},$.fn.getSelection=function(){if(0===this.lengh)return-1;var e=$(this).getSelectionStart(),t=$(this).getSelectionEnd();return this[0].value.substring(e,t)},$.fn.getSelectionStart=function(){if(0===this.lengh)return-1;var e=this[0],t=e.value.length;if(e.createTextRange){var n=document.selection.createRange().duplicate();n.moveEnd("character",e.value.length),""===n.text&&(t=e.value.length),t=e.value.lastIndexOf(n.text)}else"undefined"!=typeof e.selectionStart&&(t=e.selectionStart);return t},$.fn.getSelectionEnd=function(){if(0===this.lengh)return-1;var e=this[0],t=e.value.length;if(e.createTextRange){var n=document.selection.createRange().duplicate();n.moveStart("character",-e.value.length),""===n.text&&(t=e.value.length),t=e.value.lastIndexOf(n.text)}else"undefined"!=typeof e.selectionEnd&&(t=e.selectionEnd);return t},$.fn.setSelection=function(e,t){if(0===this.lengh)return-1;var n=this[0];if(n.createTextRange){var o=n.createTextRange();o.collapse(!0),o.moveEnd("character",t),o.moveStart("character",e),o.select()}else n.setSelectionRange&&(n.focus(),n.setSelectionRange(e,t));return this}}),define("skins/common/search/autocomplete",["mustache","includes/tools","includes/converter","includes/jquery/cursor"],function(e,t,n){var o,i,s={},a=function(e,t){this.input=e.prop("autocomplete","off"),this.list_padding={left:e.css("padding-left"),right:e.css("padding-right")},this.autocomplete=$("<ul>").addClass("search-autocomplete").css({minWidth:e.width()+n.trimPx(e.css("padding-right"))+n.trimPx(e.css("padding-left"))+"px"}).appendTo(o.css("position","relative")),this.update_position(),this.source_url=t,this.source=null,this.source_loading=!1,this.results=[],this.has_results=!1,this.res_selected=0,this.cursor_pos=-1;var i=this;this.input.on("keydown",function(e){i.on_tab_input(e)}).on("keyup",function(e){i.on_char_input(e)}).on("blur",function(){setTimeout(function(){i.autocomplete.hide()},300)}).on("focus",function(){i.has_results&&i.autocomplete.show()})};return a.prototype={update_position:function(){var e=o.offset(),t=this.input.offset(),i=this.input.outerHeight(),s=t.top-e.top+i+1,a=t.left-e.left+n.trimPx(this.input.css("border-left-width"));this.autocomplete.css({top:s+"px",left:a+"px"})},use_selected:function(e){var t="undefined"==typeof e?this.autocomplete.children(".selected"):$(e.target);this.res_selected=t.index();var n=this.results[this.res_selected],o=this.cursor_pos;o>=0&&(o=n.indexOf(" ",o)+1),-1===o&&(o=n.length),this.input.val(n).focus().setCursorPosition(o).keyup()},on_tab_input:function(e){9===e.which&&this.has_results&&(e.preventDefault(),this.use_selected())},on_char_input:function(n){if(this.source)if(38!==n.which&&40!==n.which){var o="",a="",r=this.input.val();if(this.results=[],this.cursor_pos=this.input.getCursorPosition(),-1===this.cursor_pos&&(this.cursor_pos=r.length),this.cursor_pos>0&&" "!==r[this.cursor_pos-1]){var l=r.substr(0,this.cursor_pos).lastIndexOf(" ")+1,c=r.indexOf(" ",l);-1===c&&(c=r.length);var d=t.cleanStr(r.substring(l,c),!0),u=d.length,h=10;if(a=r.substr(c),l>0&&(o=r.substring(0,l)),u>=1)for(var f=0;f<this.source.length;f++){var p=this.source[f];if(p.substr(0,u)===d&&(this.results.push(p),h--),0===h)return!1}}if(this.has_results=this.results.length>0,this.autocomplete.toggle(this.has_results),this.has_results){var g=this;$(e.render(i,{before:o,after:a,results:this.results,padding:this.list_padding})).on("click",function(e){g.use_selected(e)}).appendTo(this.autocomplete.empty()).first().addClass("selected");for(var f=0;f<this.results.length;f++)this.results[f]=o+this.results[f]+" "+a;this.res_selected=0}}else{var v=this.autocomplete.children();if(v.length>1){var m,b=v.filter(".selected");if(m=38===n.which?b.prev():b.next(),0===m.length)return;b.removeClass("selected"),m.addClass("selected")}}else if(!this.source_loading){if(this.source_loading=!0,"undefined"!=typeof s[this.source_url])return this.source=s[this.source_url],this.source_loading=!1,void this.input.trigger("keyup");var g=this;$.getJSON(this.source_url,function(e){"undefined"==typeof e.tags&&(e.tags=[]),s[this.source_url]=e.tags,g.source=e.tags,g.source_loading=!1,g.input.trigger("keyup")})}}},function(e,t){o=e,i=t,$("header input.search-input").filter("[name='k']").each(function(){var e=$(this);e.on("keyup keydown focus",function(t){e.off("keyup keydown focus"),new a(e,"/best-tags"),e.trigger(t)})})}}),define("text",["module"],function(e){"use strict";function t(e,t){return void 0===e||""===e?t:e}function n(e,n,o,i){if(n===i)return!0;if(e===o){if("http"===e)return t(n,"80")===t(i,"80");if("https"===e)return t(n,"443")===t(i,"443")}return!1}var o,i,s,a,r,l=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],c=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,d=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,u="undefined"!=typeof location&&location.href,h=u&&location.protocol&&location.protocol.replace(/\:/,""),f=u&&location.hostname,p=u&&(location.port||void 0),g={},v=e.config&&e.config()||{};return o={version:"2.0.15",strip:function(e){if(e){e=e.replace(c,"");var t=e.match(d);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:v.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=l[t];try{e=new ActiveXObject(n)}catch(o){}if(e){l=[n];break}}return e},parseName:function(e){var t,n,o,i=!1,s=e.lastIndexOf("."),a=0===e.indexOf("./")||0===e.indexOf("../");return-1!==s&&(!a||s>1)?(t=e.substring(0,s),n=e.substring(s+1)):t=e,o=n||t,s=o.indexOf("!"),-1!==s&&(i="strip"===o.substring(s+1),o=o.substring(0,s),n?n=o:t=o),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,i,s){var a,r,l,c=o.xdRegExp.exec(e);return c?(a=c[2],r=c[3],r=r.split(":"),l=r[1],r=r[0],(!a||a===t)&&(!r||r.toLowerCase()===i.toLowerCase())&&(!l&&!r||n(a,l,t,s))):!0},finishLoad:function(e,t,n,i){n=t?o.strip(n):n,v.isBuild&&(g[e]=n),i(n)},load:function(e,t,n,i){if(i&&i.isBuild&&!i.inlineText)return void n();v.isBuild=i&&i.isBuild;var s=o.parseName(e),a=s.moduleName+(s.ext?"."+s.ext:""),r=t.toUrl(a),l=v.useXhr||o.useXhr;return 0===r.indexOf("empty:")?void n():void(!u||l(r,h,f,p)?o.get(r,function(t){o.finishLoad(e,s.strip,t,n)},function(e){n.error&&n.error(e)}):t([a],function(e){o.finishLoad(s.moduleName+"."+s.ext,s.strip,e,n)}))},write:function(e,t,n,i){if(g.hasOwnProperty(t)){var s=o.jsEscape(g[t]);n.asModule(e+"!"+t,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,t,n,i,s){var a=o.parseName(t),r=a.ext?"."+a.ext:"",l=a.moduleName+r,c=n.toUrl(a.moduleName+r)+".js";o.load(l,n,function(t){var n=function(e){return i(c,e)};n.asModule=function(e,t){return i.asModule(e,c,t)},o.write(e,l,n,s)},s)}},"node"===v.env||!v.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(i=require.nodeRequire("fs"),o.get=function(e,t,n){try{var o=i.readFileSync(e,"utf8");"\ufeff"===o[0]&&(o=o.substring(1)),t(o)}catch(s){n&&n(s)}}):"xhr"===v.env||!v.env&&o.createXhr()?o.get=function(e,t,n,i){var s,a=o.createXhr();if(a.open("GET",e,!0),i)for(s in i)i.hasOwnProperty(s)&&a.setRequestHeader(s.toLowerCase(),i[s]);v.onXhr&&v.onXhr(a,e),a.onreadystatechange=function(o){var i,s;4===a.readyState&&(i=a.status||0,i>399&&600>i?(s=new Error(e+" HTTP status: "+i),s.xhr=a,n&&n(s)):t(a.responseText),v.onXhrComplete&&v.onXhrComplete(a,e))},a.send(null)}:"rhino"===v.env||!v.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?o.get=function(e,t){var n,o,i="utf-8",s=new java.io.File(e),a=java.lang.System.getProperty("line.separator"),r=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),l="";try{for(n=new java.lang.StringBuffer,o=r.readLine(),o&&o.length()&&65279===o.charAt(0)&&(o=o.substring(1)),null!==o&&n.append(o);null!==(o=r.readLine());)n.append(a),n.append(o);l=String(n.toString())}finally{r.close()}t(l)}:("xpconnect"===v.env||!v.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(s=Components.classes,a=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),r="@mozilla.org/windows-registry-key;1"in s,o.get=function(e,t){var n,o,i,l={};r&&(e=e.replace(/\//g,"\\")),i=new FileUtils.File(e);try{n=s["@mozilla.org/network/file-input-stream;1"].createInstance(a.nsIFileInputStream),n.init(i,1,0,!1),o=s["@mozilla.org/intl/converter-input-stream;1"].createInstance(a.nsIConverterInputStream),o.init(n,"utf-8",n.available(),a.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),l),o.close(),n.close(),t(l.value)}catch(c){throw new Error((i&&i.path||"")+": "+c)}}),o}),define("text!skins/default/search/autocomplete.html",[],function(){return'{{#results}}\n<li style="padding-left:{{padding.left}}; padding-right: {{padding.right}}">{{before}}<span>{{.}}</span>{{after}}</li>\n{{/results}}\n'}),define("skins/default/search/autocomplete",["skins/common/search/autocomplete","text!./autocomplete.html"],function(e,t){e($("#page"),t)}),define("skins/default/http_status",["./search/autocomplete"],function(){}),define("skins/default/login",[],function(){}),function(e){function t(){var e=r();e!==l&&(l=e,u.trigger("orientationchange"))}function n(t,n,o,i){var s=o.type;o.type=n,e.event.dispatch.call(t,o,i),o.type=s}e.attrFn=e.attrFn||{};var o=navigator.userAgent.toLowerCase(),i=o.indexOf("chrome")>-1&&(o.indexOf("windows")>-1||o.indexOf("macintosh")>-1||o.indexOf("linux")>-1)&&o.indexOf("mobile")<0&&o.indexOf("android")<0,s={tap_pixel_range:5,swipe_h_threshold:50,swipe_v_threshold:50,taphold_threshold:750,doubletap_int:500,touch_capable:"ontouchstart"in window&&!i,orientation_support:"orientation"in window&&"onorientationchange"in window,startevent:"ontouchstart"in window&&!i?"touchstart":"mousedown",endevent:"ontouchstart"in window&&!i?"touchend":"mouseup",moveevent:"ontouchstart"in window&&!i?"touchmove":"mousemove",tapevent:"ontouchstart"in window&&!i?"tap":"click",scrollevent:"ontouchstart"in window&&!i?"touchmove":"scroll",hold_timer:null,tap_timer:null};e.isTouchCapable=function(){return s.touch_capable},e.getStartEvent=function(){return s.startevent},e.getEndEvent=function(){return s.endevent},e.getMoveEvent=function(){return s.moveevent},e.getTapEvent=function(){return s.tapevent},e.getScrollEvent=function(){return s.scrollevent},e.each(["tapstart","tapend","tapmove","tap","tap2","tap3","tap4","singletap","doubletap","taphold","swipe","swipeup","swiperight","swipedown","swipeleft","swipeend","scrollstart","scrollend","orientationchange"],function(t,n){e.fn[n]=function(e){return e?this.on(n,e):this.trigger(n)},e.attrFn[n]=!0}),e.event.special.tapstart={setup:function(){var t=this,o=e(t);o.on(s.startevent,function i(e){if(o.data("callee",i),e.which&&1!==e.which)return!1;var a=e.originalEvent,r={position:{x:s.touch_capable?a.touches[0].screenX:e.screenX,y:s.touch_capable?a.touches[0].screenY:e.screenY},offset:{x:s.touch_capable?Math.round(a.changedTouches[0].pageX-o.offset().left):Math.round(e.pageX-o.offset().left),y:s.touch_capable?Math.round(a.changedTouches[0].pageY-o.offset().top):Math.round(e.pageY-o.offset().top)},time:Date.now(),target:e.target};return n(t,"tapstart",e,r),!0})},remove:function(){e(this).off(s.startevent,e(this).data.callee)}},e.event.special.tapmove={setup:function(){var t=this,o=e(t);o.on(s.moveevent,function i(e){o.data("callee",i);var a=e.originalEvent,r={position:{x:s.touch_capable?a.touches[0].screenX:e.screenX,y:s.touch_capable?a.touches[0].screenY:e.screenY},offset:{x:s.touch_capable?Math.round(a.changedTouches[0].pageX-o.offset().left):Math.round(e.pageX-o.offset().left),y:s.touch_capable?Math.round(a.changedTouches[0].pageY-o.offset().top):Math.round(e.pageY-o.offset().top)},time:Date.now(),target:e.target};return n(t,"tapmove",e,r),!0})},remove:function(){e(this).off(s.moveevent,e(this).data.callee)}},e.event.special.tapend={setup:function(){var t=this,o=e(t);o.on(s.endevent,function i(e){o.data("callee",i);var a=e.originalEvent,r={position:{x:s.touch_capable?a.changedTouches[0].screenX:e.screenX,y:s.touch_capable?a.changedTouches[0].screenY:e.screenY},offset:{x:s.touch_capable?Math.round(a.changedTouches[0].pageX-o.offset().left):Math.round(e.pageX-o.offset().left),y:s.touch_capable?Math.round(a.changedTouches[0].pageY-o.offset().top):Math.round(e.pageY-o.offset().top)},time:Date.now(),target:e.target};return n(t,"tapend",e,r),!0})},remove:function(){e(this).off(s.endevent,e(this).data.callee)}},e.event.special.taphold={setup:function(){var t,o=this,i=e(o),a={x:0,y:0},r=0,l=0;i.on(s.startevent,function c(e){if(e.which&&1!==e.which)return!1;i.data("tapheld",!1),t=e.target;var d=e.originalEvent,u=Date.now(),h={x:s.touch_capable?d.touches[0].screenX:e.screenX,y:s.touch_capable?d.touches[0].screenY:e.screenY},f={x:s.touch_capable?d.touches[0].pageX-d.touches[0].target.offsetLeft:e.offsetX,y:s.touch_capable?d.touches[0].pageY-d.touches[0].target.offsetTop:e.offsetY};return a.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,a.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY,r=a.x,l=a.y,s.hold_timer=window.setTimeout(function(){var p=a.x-r,g=a.y-l;if(e.target==t&&(a.x==r&&a.y==l||p>=-s.tap_pixel_range&&p<=s.tap_pixel_range&&g>=-s.tap_pixel_range&&g<=s.tap_pixel_range)){i.data("tapheld",!0);var v=Date.now(),m={x:s.touch_capable?d.touches[0].screenX:e.screenX,y:s.touch_capable?d.touches[0].screenY:e.screenY},b={x:s.touch_capable?Math.round(d.changedTouches[0].pageX-i.offset().left):Math.round(e.pageX-i.offset().left),y:s.touch_capable?Math.round(d.changedTouches[0].pageY-i.offset().top):Math.round(e.pageY-i.offset().top)},_=v-u,y={startTime:u,endTime:v,startPosition:h,startOffset:f,endPosition:m,endOffset:b,duration:_,target:e.target};i.data("callee1",c),n(o,"taphold",e,y)}},s.taphold_threshold),!0}).on(s.endevent,function d(){i.data("callee2",d),i.data("tapheld",!1),window.clearTimeout(s.hold_timer)}).on(s.moveevent,function u(e){i.data("callee3",u),r=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,l=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY})},remove:function(){e(this).off(s.startevent,e(this).data.callee1).off(s.endevent,e(this).data.callee2).off(s.moveevent,e(this).data.callee3)}},e.event.special.doubletap={setup:function(){var t,o,i,a,r=this,l=e(r),c=null,d=!1;l.on(s.startevent,function u(e){return e.which&&1!==e.which?!1:(l.data("doubletapped",!1),t=e.target,l.data("callee1",u),i=e.originalEvent,c||(c={position:{x:s.touch_capable?i.touches[0].screenX:e.screenX,y:s.touch_capable?i.touches[0].screenY:e.screenY},offset:{x:s.touch_capable?Math.round(i.changedTouches[0].pageX-l.offset().left):Math.round(e.pageX-l.offset().left),y:s.touch_capable?Math.round(i.changedTouches[0].pageY-l.offset().top):Math.round(e.pageY-l.offset().top)},time:Date.now(),target:e.target}),!0)}).on(s.endevent,function h(e){var u=Date.now(),f=l.data("lastTouch")||u+1,p=u-f;if(window.clearTimeout(o),l.data("callee2",h),p<s.doubletap_int&&e.target==t&&p>100){l.data("doubletapped",!0),window.clearTimeout(s.tap_timer);var g={position:{x:s.touch_capable?e.originalEvent.changedTouches[0].screenX:e.screenX,y:s.touch_capable?e.originalEvent.changedTouches[0].screenY:e.screenY},offset:{x:s.touch_capable?Math.round(i.changedTouches[0].pageX-l.offset().left):Math.round(e.pageX-l.offset().left),y:s.touch_capable?Math.round(i.changedTouches[0].pageY-l.offset().top):Math.round(e.pageY-l.offset().top)},time:Date.now(),target:e.target},v={firstTap:c,secondTap:g,interval:g.time-c.time};d||(n(r,"doubletap",e,v),c=null),d=!0,a=window.setTimeout(function(){d=!1},s.doubletap_int)}else l.data("lastTouch",u),o=window.setTimeout(function(){c=null,window.clearTimeout(o)},s.doubletap_int,[e]);l.data("lastTouch",u)})},remove:function(){e(this).off(s.startevent,e(this).data.callee1).off(s.endevent,e(this).data.callee2)}},e.event.special.singletap={setup:function(){var t=this,o=e(t),i=null,a=null,r={x:0,y:0};o.on(s.startevent,function l(e){return e.which&&1!==e.which?!1:(a=Date.now(),i=e.target,o.data("callee1",l),r.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,r.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY,!0)}).on(s.endevent,function c(e){if(o.data("callee2",c),e.target==i){var l=e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageX:e.pageX,d=e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageY:e.pageY;s.tap_timer=window.setTimeout(function(){if(!o.data("doubletapped")&&!o.data("tapheld")&&r.x==l&&r.y==d){var i=e.originalEvent,c={position:{x:s.touch_capable?i.changedTouches[0].screenX:e.screenX,y:s.touch_capable?i.changedTouches[0].screenY:e.screenY},offset:{x:s.touch_capable?Math.round(i.changedTouches[0].pageX-o.offset().left):Math.round(e.pageX-o.offset().left),y:s.touch_capable?Math.round(i.changedTouches[0].pageY-o.offset().top):Math.round(e.pageY-o.offset().top)},time:Date.now(),target:e.target};c.time-a<s.taphold_threshold&&n(t,"singletap",e,c)}},s.doubletap_int)}})},remove:function(){e(this).off(s.startevent,e(this).data.callee1).off(s.endevent,e(this).data.callee2)}},e.event.special.tap={setup:function(){var t,o,i=this,a=e(i),r=!1,l=null,c={x:0,y:0};a.on(s.startevent,function d(e){return a.data("callee1",d),e.which&&1!==e.which?!1:(r=!0,c.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,c.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY,t=Date.now(),l=e.target,o=e.originalEvent.targetTouches?e.originalEvent.targetTouches:[e],!0)}).on(s.endevent,function u(e){a.data("callee2",u);var d=e.originalEvent.targetTouches?e.originalEvent.changedTouches[0].pageX:e.pageX,h=e.originalEvent.targetTouches?e.originalEvent.changedTouches[0].pageY:e.pageY,f=c.x-d,p=c.y-h;if(l==e.target&&r&&Date.now()-t<s.taphold_threshold&&(c.x==d&&c.y==h||f>=-s.tap_pixel_range&&f<=s.tap_pixel_range&&p>=-s.tap_pixel_range&&p<=s.tap_pixel_range)){for(var g=e.originalEvent,v=[],m=0;m<o.length;m++){var b={position:{x:s.touch_capable?g.changedTouches[m].screenX:e.screenX,y:s.touch_capable?g.changedTouches[m].screenY:e.screenY},offset:{x:s.touch_capable?Math.round(g.changedTouches[m].pageX-a.offset().left):Math.round(e.pageX-a.offset().left),y:s.touch_capable?Math.round(g.changedTouches[m].pageY-a.offset().top):Math.round(e.pageY-a.offset().top)},time:Date.now(),target:e.target};v.push(b)}n(i,"tap",e,v)}})},remove:function(){e(this).off(s.startevent,e(this).data.callee1).off(s.endevent,e(this).data.callee2)}},e.event.special.swipe={setup:function(){function t(n){r=e(n.currentTarget),r.data("callee1",t),d.x=n.originalEvent.targetTouches?n.originalEvent.targetTouches[0].pageX:n.pageX,d.y=n.originalEvent.targetTouches?n.originalEvent.targetTouches[0].pageY:n.pageY,u.x=d.x,u.y=d.y,l=!0;var o=n.originalEvent;i={position:{x:s.touch_capable?o.touches[0].screenX:n.screenX,y:s.touch_capable?o.touches[0].screenY:n.screenY},offset:{x:s.touch_capable?Math.round(o.changedTouches[0].pageX-r.offset().left):Math.round(n.pageX-r.offset().left),y:s.touch_capable?Math.round(o.changedTouches[0].pageY-r.offset().top):Math.round(n.pageY-r.offset().top)},time:Date.now(),target:n.target}}function n(t){r=e(t.currentTarget),r.data("callee2",n),u.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,u.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY;var o,a=r.parent().data("xthreshold")?r.parent().data("xthreshold"):r.data("xthreshold"),h=r.parent().data("ythreshold")?r.parent().data("ythreshold"):r.data("ythreshold"),f="undefined"!=typeof a&&a!==!1&&parseInt(a)?parseInt(a):s.swipe_h_threshold,p="undefined"!=typeof h&&h!==!1&&parseInt(h)?parseInt(h):s.swipe_v_threshold;if(d.y>u.y&&d.y-u.y>p&&(o="swipeup"),d.x<u.x&&u.x-d.x>f&&(o="swiperight"),d.y<u.y&&u.y-d.y>p&&(o="swipedown"),d.x>u.x&&d.x-u.x>f&&(o="swipeleft"),void 0!=o&&l){d.x=0,d.y=0,u.x=0,u.y=0,l=!1;var g=t.originalEvent,v={position:{x:s.touch_capable?g.touches[0].screenX:t.screenX,y:s.touch_capable?g.touches[0].screenY:t.screenY},offset:{x:s.touch_capable?Math.round(g.changedTouches[0].pageX-r.offset().left):Math.round(t.pageX-r.offset().left),y:s.touch_capable?Math.round(g.changedTouches[0].pageY-r.offset().top):Math.round(t.pageY-r.offset().top)},time:Date.now(),target:t.target},m=Math.abs(i.position.x-v.position.x),b=Math.abs(i.position.y-v.position.y),_={startEvnt:i,endEvnt:v,direction:o.replace("swipe",""),xAmount:m,yAmount:b,duration:v.time-i.time};c=!0,r.trigger("swipe",_).trigger(o,_)}}function o(t){r=e(t.currentTarget);var n="";if(r.data("callee3",o),c){var a=r.data("xthreshold"),d=r.data("ythreshold"),u="undefined"!=typeof a&&a!==!1&&parseInt(a)?parseInt(a):s.swipe_h_threshold,h="undefined"!=typeof d&&d!==!1&&parseInt(d)?parseInt(d):s.swipe_v_threshold,f=t.originalEvent,p={position:{x:s.touch_capable?f.changedTouches[0].screenX:t.screenX,y:s.touch_capable?f.changedTouches[0].screenY:t.screenY},offset:{x:s.touch_capable?Math.round(f.changedTouches[0].pageX-r.offset().left):Math.round(t.pageX-r.offset().left),y:s.touch_capable?Math.round(f.changedTouches[0].pageY-r.offset().top):Math.round(t.pageY-r.offset().top)},time:Date.now(),target:t.target};i.position.y>p.position.y&&i.position.y-p.position.y>h&&(n="swipeup"),i.position.x<p.position.x&&p.position.x-i.position.x>u&&(n="swiperight"),i.position.y<p.position.y&&p.position.y-i.position.y>h&&(n="swipedown"),i.position.x>p.position.x&&i.position.x-p.position.x>u&&(n="swipeleft");var g=Math.abs(i.position.x-p.position.x),v=Math.abs(i.position.y-p.position.y),m={startEvnt:i,endEvnt:p,direction:n.replace("swipe",""),xAmount:g,yAmount:v,duration:p.time-i.time};r.trigger("swipeend",m)}l=!1,c=!1}var i,a=this,r=e(a),l=!1,c=!1,d={x:0,y:0},u={x:0,y:0};r.on(s.startevent,t),r.on(s.moveevent,n),r.on(s.endevent,o)},remove:function(){e(this).off(s.startevent,e(this).data.callee1).off(s.moveevent,e(this).data.callee2).off(s.endevent,e(this).data.callee3)}},e.event.special.scrollstart={setup:function(){function t(e,t){o=t,n(a,o?"scrollstart":"scrollend",e)}var o,i,a=this,r=e(a);r.on(s.scrollevent,function l(e){r.data("callee",l),o||t(e,!0),clearTimeout(i),i=setTimeout(function(){t(e,!1)},50)})},remove:function(){e(this).off(s.scrollevent,e(this).data.callee)}};var a,r,l,c,d,u=e(window),h={0:!0,180:!0};if(s.orientation_support){var f=window.innerWidth||u.width(),p=window.innerHeight||u.height(),g=50;c=f>p&&f-p>g,d=h[window.orientation],(c&&d||!c&&!d)&&(h={"-90":!0,90:!0})}e.event.special.orientationchange=a={setup:function(){return s.orientation_support?!1:(l=r(),u.on("throttledresize",t),!0)},teardown:function(){return s.orientation_support?!1:(u.off("throttledresize",t),!0)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=r(),t.apply(this,arguments)}}},e.event.special.orientationchange.orientation=r=function(){var e=!0,t=document.documentElement;return e=s.orientation_support?h[window.orientation]:t&&t.clientWidth/t.clientHeight<1.1,e?"portrait":"landscape"},e.event.special.throttledresize={setup:function(){e(this).on("resize",y)},teardown:function(){e(this).off("resize",y)}};var v,m,b,_=250,y=function(){m=Date.now(),b=m-w,b>=_?(w=m,e(this).trigger("throttledresize")):(v&&window.clearTimeout(v),v=window.setTimeout(t,_-b))},w=0;e.each({scrollend:"scrollstart",swipeup:"swipe",swiperight:"swipe",swipedown:"swipe",swipeleft:"swipe",swipeend:"swipe",tap2:"tap"},function(t,n){e.event.special[t]={setup:function(){e(this).on(n,e.noop)}}})}(jQuery),define("jquery-mobile-events",function(){}),define("includes/helpers/thumbs_rotator",["includes/tools","jquery-mobile-events"],function(e){var t,n,o,i,s,a,r=$(),l=0,c="",d=!1,u=!1,h=function(e){return e++,e>9&&(e=0),e},f=function(e){return e++,e>=i.length&&(e=-1),e},p=function(){if(t){
if(o)l=h(l),0===l?n.hide():1===l?n.show().css({marginTop:"0%",marginLeft:"0%"}):n.css({marginTop:-75*Math.floor((l-1)/3)+"%",marginLeft:-100*Math.floor((l-1)%3)+"%"});else{l=f(l),u&&(-1===l?t.addClass("video-pic"):t.removeClass("video-pic")),t.attr("src",-1===l?c:i[l].img),d&&(-1===l?t.addClass("profile-pic"):t.removeClass("profile-pic"));var a=f(l);e.preloadPicture(-1===a?c:i[a].img)}s=setTimeout(p,1e3)}},g=function(r){if(a=r.type,r.preventDefault(),t&&t.is(this))return!1;if(v(!0),t=$(this),i=t.data("videos"),o="object"!=typeof i,d=!1,u=!1,o){if(l=0,n=t.next(".hovered"),0===n.length){var h=t.attr("src");h=h.substring(0,h.lastIndexOf("/")),n=$('<img class="hovered" src="'+h+'/mozaiquehome.jpg" />').hide().insertAfter(t).on("mouseout",v)}}else{if(c=t.attr("src"),!i||0===i.length)return;d=t.hasClass("profile-pic"),u=t.hasClass("video-pic"),l=-1,e.preloadPicture(i[0].img)}return s=setTimeout(p,30),!1},v=function(e){if(e!==!0){if(e.preventDefault(),"swipe"===a)return;if(t&&t.is(this)&&1===l||n&&n.is(this)&&0===l)return}return s&&(clearTimeout(s),s=null),t?(u&&t.addClass("video-pic"),o?n.hide():t.attr("src",c),d&&t.addClass("profile-pic"),t=null,!1):void 0},m=function(e){1!==e.which||e.metaKey||e.ctrlKey||e.altKey||e.shiftKey||(r.off("swipe mouseover mouseout click"),v(!0))},b=function(){-1===r.index(this)&&(r=r.add($(this).on("swipe mouseover",g).on("mouseout",v).on("mousedown",m)))},_=function(e,t){t?$(".thumb img",e).each(b):$(".thumb-block .thumb img",e).each(b)};return _(),_}),define("skins/default/main",["config/main","static/messages","includes/helpers/thumbs_rotator","./search/autocomplete"],function(e,t){e.data.home_message&&t.send(e.data.home_message.content,e.data.home_message.hash,2592e5)}),define("skins/default/mozaique",["includes/helpers/thumbs_rotator","./search/autocomplete"],function(){}),define("skins/default/langidx",["./search/autocomplete"],function(){}),define("text!includes/helpers/loader/before.html",[],function(){return'<span class="x-loader-inline before{{#is_button}} btn btn-default{{/is_button}}"{{#id}} id="{{id}}"{{/id}}>{{{ loader }}}{{#text}}{{ text }} {{/text}}</span>'}),define("text!includes/helpers/loader/after.html",[],function(){return'<span class="x-loader-inline after{{#is_button}} btn btn-default{{/is_button}}"{{#id}} id="{{id}}"{{/id}}>{{#text}}{{ text }} {{/text}}{{{ loader }}}</span>'}),define("includes/helpers/inline_loader",["includes/tools","mustache","text!./loader/before.html","text!./loader/after.html"],function(e,t,n,o){var i="",s=-1,a=function(e){return"before"===e||"button_before"===e?n:o},r=function(e){return"undefined"!=typeof e?e:(s++,"_x_loader_"+s)},l=function(e,n,o){"string"!=typeof e&&(e="after"),this.html=t.render(a(e),{id:r(o),text:n,is_button:0===e.indexOf("button_"),loader:l.getImg()}),this.node=!1};return l.setup=function(t){e.preloadPicture(t),i='<img class="x-loader-inline-img" src="'+t+'" />'},l.get=function(e,t,n){return new l(e,t,n)},l.getImg=function(){return 0===i.length&&console.error("Loader image not setup"),i},l.prototype={getHtml:function(){return this.html},getNode:function(){return this.node||(this.node=$(this.html)),this.node},appendTo:function(e){return this.getNode().appendTo(e),this},prependTo:function(e){return this.getNode().prependTo(e),this},insertAfter:function(e){return this.getNode().insertAfter(e),this},insertBefore:function(e){return this.getNode().insertBefore(e),this},detach:function(){return this.getNode().detach(),this},remove:function(){this.node&&this.node.remove()}},l}),define("skins/default/form/region_select",["includes/helpers/inline_loader"],function(e){var t={},n=function(e){var t=[];for(var n in e)t.push({code:n,name:e[n]});return t.sort(function(e,t){return e.name>t.name?1:-1}),t},o=function(e,t){var n=$(e);if(this.region=$(t),0!==n.length&&0!==this.region.length){this.loader=null,this.error=null;var o=this;n.on("change",function(){o.on_change($.trim($(this).val()))}),n.val().length>0&&this.region.children().length<2&&n.trigger("change")}};return o.prototype={on_change:function(e){if(this.region.empty().append('<option value=""></option>'),!e)return void this.set_regions({});if("undefined"!=typeof t[e])return void this.set_regions(t[e]);this.show_loader();var o=this;$.getJSON("/account/getregions/",{country:e},function(i){if(!i.success)return void o.set_error(i.message);var s=n(i.regions);t[e]=s,o.set_regions(s)}).error(function(){o.set_error("An error occured!")}).complete(function(){o.hide_loader()})},show_loader:function(){return this.loader?void this.loader.show():void(this.loader=e.get().getNode().appendTo(this.region.parent().prev()))},hide_loader:function(){this.loader.hide()},set_regions:function(e){this.region.nextAll(".help-block.text-danger").remove();for(var t in e)this.region.append('<option value="'+e[t].code+'">'+e[t].name+"</option>");this.region.prop("disabled",0===e.length)},set_error:function(e){this.region.prop("disabled",!0),this.error||(this.error=$('<span class="help-block text-danger"></span>').insertAfter(this.region)),this.error.show().html(e)},hide_error:function(){this.error&&this.error.hide()}},o}),define("skins/default/form/range_select",[],function(){var e=function(e){if(this.min=$("#"+e+"_min"),this.max=$("#"+e+"_max"),0!==this.min.length&&0!==this.max.length){this.error=null;var t=this;this.min.on("change",function(){t.on_change()}),this.max.on("change",function(){t.on_change()}),this.min.trigger("change")}};return e.prototype={on_change:function(){this.hide_error();var e=parseInt(this.min.val()),t=parseInt(this.max.val());0!==e&&0!==t&&(t>=e||this.set_error("Right side must be greater than left side"))},set_error:function(e){this.error||(this.error=$('<span class="help-block text-danger"></span>').insertAfter(this.max)),this.error.show().html(e)},hide_error:function(){this.error&&this.error.hide()}},e}),define("skins/default/profiles",["./form/region_select","./form/range_select","./search/autocomplete","includes/helpers/thumbs_rotator"],function(e,t){new e("#country_select","#region_select"),new t("age_range-select"),$("#profile-search-filters-summary").find(".btn,.value").on("click",function(){$("#profile-search-form").toggleClass("expanded contracted")})}),define("skins/default/profiles_clicksort",["./profiles"],function(){}),define("skins/default/profiles_index",["./profiles"],function(){}),define("skins/default/form/unit_select",["includes/converter"],function(e){var t=function(e,t){this.options=$(e).children(),this.val_unit=t};return t.prototype={convert:function(t,n){var o=this;this.options.each(function(){var i=$(this),s=parseFloat(i.val());0!==s&&(t!==o.val_unit&&(s=e.convert(s,o.val_unit,t,0,n)),i.text(s+" "+t))})}},t}),define("skins/default/profiles_search",["config/main","./form/range_select","./form/unit_select","./profiles"],function(e,t,n){$("#profile-search-advanced").on("click",function(e){e.preventDefault(),$("#profile-search-form").removeClass("display-compact display-create-account display-create-profile").addClass("display-advanced"),$(this).hide()}),new t("height_range-select"),new t("width_range-select");var o=$("#switch-search-body-unit");if(o.length>0){var i=e.data.body_unit,s=new n("#height_range-select_min,#height_range-select_max","cm"),a=new n("#weight_range-select_min,#weight_range-select_max","kg");o.on("click",function(t){t.preventDefault();var n="EU"===i?"US":"EU";o.html(e.data.body_unit_switch[n]),$("#search-body-unit").val(n),s.convert("US"===n?"in":"cm",1),a.convert("US"===n?"lbs":"kg",0),i=n})}}),define("skins/default/profiles_videos",["./search/autocomplete","includes/helpers/thumbs_rotator"],function(){}),define("skins/default/tag",["includes/helpers/thumbs_rotator","./search/autocomplete"],function(){var e,t,n=$("#search-page-filters-block"),o=!1;e=n.find(".btn,.selected a").on("click",function(i){i.preventDefault(),n.toggleClass("expanded"),e.html(o?t:"Hide filters&#9650;"),o=!o}).filter(".btn"),t=e.html()}),define("skins/default/search",["./tag"],function(){var e=$("#search-associates");e.find(".show-more a").on("click",function(){e.toggleClass("mobile-expanded")})}),define("skins/default/tags",["includes/tools","./search/autocomplete"],function(e){var t,n=!1,o=$("#filter-tags-input"),i="",s=function(){n||(n=!0,t=$("#tags li").each(function(){$(this).data("tag",$.trim(e.translit($(this).find("b").text())))}))},a=function(){s();var n=$.trim(e.translit(o.val()));if(n!==i)return i=n,0===n.length?void t.removeClass("hidden"):void t.each(function(){$(this).toggleClass("hidden",-1===$(this).data("tag").indexOf(n))})};o.on("keyup",a),o.val().length>0&&a()}),function(e){"function"==typeof define&&define.amd?define("includes/pathchange",["jquery"],e):e(jQuery)}(function(e){e.fn.pathchange=function(e){return e?this.bind("pathchange",e):this.trigger("pathchange")};var t=e.pathchange={options:{useHistory:!0,useHashchange:!0,pollingInterval:250,interceptLinks:!0,disableHashLinks:!0},init:function(n){var o;e.extend(t.options,n),t.options.useHistory&&t.detectHistorySupport()&&e(window).bind("popstate",function(t){e(window).trigger("pathchange")}),t.options.useHashchange&&(e(window).bind("hashchange",function(t){e(window).trigger("pathchange")}),t.detectHashchangeSupport()||(o=window.location.hash,setInterval(function(){o!==window.location.hash&&(e(window).trigger("hashchange"),o=window.location.hash)},t.options.pollingInterval))),t.options.interceptLinks&&e("body").delegate("a[href^=/]","click",function(n){t.changeTo(e(this).attr("href")),n.preventDefault()}),t.options.disableHashLinks&&e("body").delegate("a[href=#]","click",function(e){e.preventDefault()})},changeTo:function(n){t.options.useHistory&&t.detectHistorySupport()?(window.history.pushState(null,null,n),e(window).trigger("pathchange")):(n.indexOf("#")<0&&(n+="#"),window.location.href=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")+n)},detectHistorySupport:function(){return!(!window.history||!history.pushState)},detectHashchangeSupport:function(){var e="onhashchange"in window;return!e&&window.setAttribute&&(window.setAttribute("onhashchange","return;"),e="function"==typeof window.onhashchange),e}};return t}),define("includes/history",["./tools","./pathchange"],function(e){var t="##NOHASH##",n={},o="",i={};return i.getNoHashValue=function(){return t},i.registerHash=function(e,o){return"function"!=typeof o?!1:(e||(e=t),n[e]=o,!0)},i.setUrlHash=function(t){o!==t&&(o=t,e.setUrlHash(t))},$.pathchange&&($.pathchange.init({interceptLinks:!1}),$(window).on("pathchange",function(){var i=e.getUrlHash();i||(i=t),i!==o&&n[i]&&n[i](i),o=i})),i}),define("includes/tab",["includes/tools","./history"],function(e,t){var n=function(n,o,i){this.node=$(n),this.closable=!!i;var s,a=this.node.find(".tab-buttons a"),r=this.node.find(".tabs .tab"),l=this;if(0===r.length||a.length<r.length)return void console.error("Invalid tabs number");o=o||{},this.active=!1,this.tabs={},r.each(function(e){var n=$(this),i=n.prop("id"),r={};if(s||(s=i),r.id=i,r.tab=n,r.btn=a.eq(e),r.active=!1,l.active)n.hide(),r.btn.removeClass("active");else{var c=r.btn.hasClass("active");c?(r.active=!0,l.active=i,n.show()):n.hide()}r.action=!1,"function"==typeof o[i]&&(r.action=o[i]),t.registerHash("_"+i,function(e){l._onhashchange(e)}),r.btn.on("click",function(e){return e.preventDefault(),l.closable&&l.active===i?l.close():l.open(i),!1}),l.tabs[i]=r});var c=e.getUrlHash();if(c){c=c.substr(1);var d=c.indexOf(",");-1!==d&&(c=c.substring(0,d)),"undefined"!=typeof this.tabs[c]&&(this.active=c)}i||this.active||(this.active=s),i&&t.registerHash(!1,function(e){l._onhashchange(e)}),this.active&&this.open(this.active,!0)};return n.prototype={open:function(e,n){if((n||this.active!==e)&&"undefined"!=typeof this.tabs[e]){n&&this.active===e||this._close();var o=this.tabs[e];o.active=!0,o.tab.show(),o.btn.addClass("active"),o.action&&o.action(),t.setUrlHash("_"+e),this.active=e}},close:function(){this.closable&&this._close()},_close:function(){if(this.active){var e=this.tabs[this.active];e.active=!1,e.tab.hide(),e.btn.removeClass("active"),this.active=!1}},_onhashchange:function(e){if(e!==t.getNoHashValue()){var n;if(-1!==e.indexOf(",")){var o=e.split(",");e=o[0],n=o[1]}this.open(e.substr(1)),n&&$("#"+n).click()}else this.close()}},n}),define("text!includes/helpers/pager/template.html",[],function(){return'<div class="pagination">\n<ul>\n{{# has_first }}<li><a href="{{ first.url }}" class="no-page">First</a></li>{{/ has_first }}\n{{# has_prev }}<li><a href="{{ prev.url }}" class="no-page">Previous</a></li>{{/ has_prev }}\n{{# pages }}<li>\n{{# current }}<a class="active" href="">{{ display }}</a>{{/ current }}\n{{^ current }}\n{{# no_page }}<a class="no-page" href="">{{ display }}</a>{{/ no_page }}\n{{^ no_page }}<a href="{{ url }}">{{ display }}</a>{{/ no_page }}\n{{/ current }}\n</li>{{/ pages }}\n{{# has_next }}<li><a href="{{ next.url }}" class="no-page">Next</a></li>{{/ has_next }}\n{{# has_last }}<li><a href="{{ first.url }}" class="no-page">Last</a></li>{{/ has_last }}\n</ul>\n</div>'}),define("includes/helpers/pager",["mustache","text!./pager/template.html"],function(e,t){var n={};return n.get=function(n){return n.has_first=n.first!==!1,n.has_prev=n.prev!==!1,n.has_next=n.next!==!1,n.has_last=n.last!==!1,$(e.render(t,n))},n}),define("text!includes/helpers/overlay/template.html",[],function(){return'<div class="x-overlay">\n	<div class="x-body">\n		<div class="x-close{{^closable}} hidden{{/closable}}" title="Click to close this message">&times;</div>\n		<div class="x-content"></div>\n	</div>\n</div>'}),define("includes/helpers/overlay",["mustache","text!./overlay/template.html"],function(e,t){var n=function(n,o,i){this.open=!1,this.closable=!!o,this.setCloseAction(i),this.parent=$(n).css("position","relative"),this.node=$(e.render(t,{closable:o})),this.body=this.node.children(".x-body");var s=this;this.close_node=this.body.children(".x-close").on("click",function(){"close"===s.close_action?s.close():s.hide()}),this.container=this.body.children(".x-content")};return n.get=function(e,t){return new n(e,t)},n.prototype={getNode:function(){return this.node},setClosable:function(e){return this.closable=!!e,this.closable?this.close_node.removeClass("hidden"):this.close_node.addClass("hidden"),this},setCloseAction:function(e){this.close_action="hide"===e?"hide":"close"},setText:function(e){return this.container.text(e),this},setContent:function(e){return this.container.html(e),this},append:function(e){return this.container.append(e),this},prepend:function(e){return this.container.prepend(e),this},show:function(){return this.open?void 0:(this.node.appendTo(this.parent),this.open=!0,this)},hide:function(){return this.open?(this.node.detach(),this.open=!1,this):void 0},close:function(){this.open&&(this.node.remove(),this.open=!1)},autoclose:function(e){if(this.open){var t=this;window.setTimeout(function(){t.close()},e)}}},n}),define("includes/helpers/overlay/box",["includes/tools","../overlay"],function(e,t){var n=function(e,n,o){t.apply(this,arguments),this.ori_padding=!1,this.node.addClass("x-overlay-box")};return n.prototype=new t,n.get=function(e,t,o){return new n(e,t,o)},n.prototype.show=function(t){if(!this.open){this.node.appendTo(this.parent);var n=this.node.height(),o=this.body.outerHeight()+parseInt(this.body.css("margin-top"));if(o+10>n&&(this.ori_padding=this.parent.css("padding-bottom"),this.parent.css("padding-bottom",o+10-n+"px")),t="undefined"!=typeof t?$(t):!1,t&&t.length>0){var i=t.position().top,s=Math.max(10,Math.min(i,n-o-10));this.body.css("margin-top",s+"px")}else this.body.css("margin-top",Math.max(10,Math.round(Math.min(150,(n-o)/2)))+"px"),this.closable&&e.scrollTo(this.node,10);return this.open=!0,this}},n.prototype.hide=function(){return this.ori_padding!==!1&&this.parent.css("padding-bottom",this.ori_padding),t.prototype.hide.apply(this)},n.prototype.close=function(){return this.ori_padding!==!1&&this.parent.css("padding-bottom",this.ori_padding),t.prototype.close.apply(this)},n}),define("skins/common/video/comments/form",["config/main","mustache","includes/tools","includes/helpers/inline_loader","includes/helpers/overlay/box"],function(e,t,n,o,i){var s=function(s,a,r){var l={upload_domain:e.domains.master,static_domain:e.domains["static"],has_profile:"undefined"!=typeof e.data.login_info.profile&&e.data.login_info.profile!==!1&&0!==e.data.login_info.profile.length};(!r||l.has_profile)&&(l.is_form=!0,l.has_profile&&(l.profile=e.data.login_info.profile,l.pu=e.data.login_info.profile_url,l.iu=e.data.login_info.profile_img,l.n=n.ucfirst(e.data.login_info.profile))),this.node=$(t.render(s,l,{comment:a}));var c,d=!1,u=this,h=this.node.children("form"),f=function(e){if(e.message){var t=e.result?"text-success":"text-danger";i.get(u.getNode(),!0).setContent('<strong class="'+t+'">'+e.message+"</strong>").show()}e.result&&"function"==typeof u.posted&&u.posted(),h[0].reset()},p=function(){if(!d){c||(c=i.get(u.getNode(),!1,"hide").setContent(o.get("after","Posting comment...").getHtml())),c.show();var t=h.serializeArray();t.push({name:"test",value:"ok"}),$.post("/video-post-comment/"+e.data.id_video+"/",t,f,"json").fail(function(){i.get(u.getNode(),!0).setContent('<strong class="text-danger">Posting the comment failed... Please close this message and try again.</strong>').show()}).always(function(){c.hide()})}};this.node.find("button").on("click",p)};return s.prototype={posted:null,getNode:function(){return this.node}},s}),define("skins/common/form/login",["config/main","mustache"],function(e,t){var n=function(n,o,i){this.node=$(t.render(i,{base_id:(new Date).getTime(),upload_domain:e.domains.master,redirect:encodeURIComponent(o)})),this.title=this.node.find(".title").text(n)};return n.prototype={getNode:function(){return this.node},setTitle:function(e){this.title.text(e)}},n}),define("skins/common/video/comments",["config/main","mustache","static/dom","includes/helpers/pager","includes/helpers/overlay/box","includes/helpers/inline_loader"],function(e,t,n,o,i,s){var a,r,l,c,d,u,h,f,p,g=!1,v=[],m=e.data.nb_comments,b=!1,_=function(){for(var e in v)v[e].node.remove(),v[e].pager&&v[e].pager.remove();v=[],b=!1},y=function(e){b!==!1&&(v[b].node.toggle(e),v[b].pager&&v[b].pager.toggle(e))},w=function(){return u||(u=i.get(r,!1,"hide").setContent(s.get("after","Loading comments...").getNode())),u},x=function(){h&&w().show()},T=function(e){e.preventDefault(),E(parseInt($(this).attr("href").substr(1)))},k=function(i){0===e.data.nb_comments&&0===v.length&&l.empty(),m!==i.nb_comments?_():y(!1);var s=$(t.render(f,i,{tpl:p})).appendTo(l);v[i.page]={node:s},i.pagination&&(v[i.page].pager=o.get(i.pagination).appendTo(l).on("click","a",T)),n.scrollToTop(a.position().top-10),c.text(i.nb_comments),i.nb_comments>2&&d.show(),b=i.page,m=i.nb_comments,h=!1},E=function(t){if(("undefined"==typeof t||isNaN(t))&&(t=0),!h&&t!==b)if("undefined"!=typeof v[t])y(!1),b=t,y(!0),n.scrollToTop(a.position().top-10);else{h=!0,window.setTimeout(x,500);var o="";"xnxx"===e.sitename&&(console.warn("Domain should be reset for production"),o="http://www.xvideos.com"),$.post(o+"/video-get-comments/"+e.data.id_video+"/"+t+"/",k,!1).fail(function(){i.get(r,!0).setContent('<strong class="text-danger">Failed loading comments! Please try again...</strong>').show()}).complete(function(){h=!1,w().hide()})}};return function(t,o,i,s,u){g||(g=!0,f=t,p=o,a=$("#tabComments"),r=$("#comments-container"),l=$("#comments"),c=$("#video-tabs .nb-video-comments"),d=$("#video-post-comment"),0===d.length&&(d=$('<a class="btn btn-default btn-xs" id="video-post-comment">Post a comment</a>').insertBefore(r)),d.on("click",function(){n.scrollToTop(a.children(".tab-form").position().top-10)}),e.data.nb_comments<=2&&d.hide(),e.data.nb_comments>0&&E(),!u||e.data.login_info.is_logged?require(["skins/common/video/comments/form"],function(e){var t=new e(i,o,u);t.posted=function(){_(),E(0)},a.append(t.getNode())}):require(["skins/common/form/login","includes/tools"],function(e,t){var n=new e("You must be logged in to comment a video.",t.parseUrl(window.location.href,"body")+"#_tabComments",s);a.append(n.getNode())}))}}),define("text!skins/default/video/comments/page.html",[],function(){return"<div>{{#comments}}{{> tpl}}{{/comments}}</div>\n"}),define("text!skins/default/video/comments/comment.html",[],function(){return'<div class="comment">\n	<div class="profile-pic">\n		{{# p }}<a href="{{{ pu }}}"><img src="{{{ iu }}}" onerror="this.src=\'{{{ static_domain }}}/img/profile_default_small.jpg\'" /></a>{{/ p }}\n		{{^ p }}<div><img src="{{{ static_domain }}}/img/profile_default_small.jpg" /></div>{{/ p }}\n		{{# is_form }}<button type="button" class="btn btn-default">Comment</button>{{/ is_form }}\n	</div>\n	<div class="bg-title grey no-border">{{# p }}<a href="{{{ pu }}}">{{/ p }}{{ n }}{{# p }}</a>{{/ p }}{{# d }} - <span class="date">{{ d }}</span>{{/ d }}</div>\n	<div class="comment-text">{{# is_form }}<textarea name="comment" rows="4" class="form-control" required></textarea>{{/ is_form }}{{^ is_form }}{{{ c }}}{{/ is_form }}</div>\n</div>'}),define("text!skins/default/video/comments/form.html",[],function(){return'<div class="tab-form">\n	{{# has_profile }}\n	<form id="video-comment-form">\n		<input type="hidden" name="user" value="{{ profile }}" />\n		{{> comment}}\n	</form>\n	{{/ has_profile }}\n	{{^ has_profile }}\n	To comment videos, <a href="{{ upload_domain }}/account/create_profile"><b>please setup your profile</b></a>.\n	{{/ has_profile }}\n</div>'}),define("text!skins/default/form/login.html",[],function(){return'<div class="tab-form">\n	<div class="row">\n		<div class="col-sm-5 col-md-6 col-lg-5">\n			<p class="title"></p>\n			<form action="{{ upload_domain }}/account/?redirect={{{ redirect }}}" method="POST" class="form-horizontal">\n				<div class="form-group">\n					 <label for="{{ base_id }}-tab-login-form-login" class="col-sm-5 col-md-4 control-label">Your login (email):</label>\n					 <div class="col-sm-7 col-md-8"><input type="email" name="login" id="{{ base_id }}-tab-login-form-login" class="form-control" required /></div>\n				</div>\n				<div class="form-group">\n					 <label for="{{ base_id }}-tab-login-form-password" class="col-sm-5 col-md-4 control-label">Your password:</label>\n					 <div class="col-sm-7 col-md-8"><input type="password" name="password" id="{{ base_id }}-tab-login-form-password" class="form-control" required /></div>\n				</div>\n				<div class="form-group">\n					<div class="col-xs-12 text-right">\n						<a href="{{ upload_domain }}/account/lostpassword" target="_blank" class="forgot-password">Forgot username or password ?</a>\n						<button type="submit" class="btn btn-default" name="log">Login</button>\n					</div>\n				</div>\n			</form>\n		</div>\n		<div class="col-sm-7 col-md-6 col-lg-7 create-account">\n			<div class="form-group">\n				<p>Not yet a xvideos member? Here is what you can do with a FREE account:</p>\n				<ul>\n					<li><strong>- Upload videos.</strong></li>\n					<li><strong>- Commenting.</strong></li>\n					<li><strong>- Add videos to your favorites.</strong></li>\n					<li><strong>- Create your profile page and make some new friends.</strong></li>\n				</ul>\n			</div>\n			<div class="text-center">\n				<a class="btn btn-default" href="{{ upload_domain }}/account/create" target="_blank">Sign Up Now For Free</a>\n			</div>\n		</div>\n	</div>\n</div>'}),define("skins/default/video/comments",["skins/common/video/comments","text!./comments/page.html","text!./comments/comment.html","text!./comments/form.html","text!skins/default/form/login.html"],function(e,t,n,o,i){return function(){e(t,n,o,i,!0)}}),define("skins/default/video/download",["config/main","includes/helpers/inline_loader"],function(e,t){var n=!1,o=$("#tabDownload"),i=function(e){if(!e.LOGGED)return void require(["skins/common/form/login","text!skins/default/form/login.html","includes/tools"],function(e,t,n){var i=new e("You must be logged in to download a video.",n.parseUrl(window.location.href,"body")+"#_tabDownload",t);o.empty().append(i.getNode())});var t=$("<p>").addClass("text-center");if("string"==typeof e.ERROR)t.addClass("text-danger").html(e.ERROR);else if("string"!=typeof e.URL)t.addClass("text-danger").html('Sorry but an error occured while checking your download. Click <a href="#"><strong>HERE</strong></a> to retry.').find("a").on("click",s);else{var n="Your video is ready for download.";e.URL_LOW?(n+=' Click to get <a href="'+e.URL+'" target="_blank"><strong>HIGH QUALITY</strong></a>.',n+=' Click to get <a href="'+e.URL_LOW+'" target="_blank"><strong>LOW QUALITY</strong></a>.'):n+=' Click <a href="'+e.URL+'" target="_blank"><strong>HERE</strong></a> to get it.',t.html(n)}o.empty().append(t)},s=function(n){"undefined"!=typeof n&&n.preventDefault(),o.append($("<p>").addClass("text-danger text-center").append(t.get("after","Checking your download. Please wait...").getNode())),$.post("/video-download/"+e.data.id_video+"/",i,!0,"json").fail(function(){o.empty().append($("<p>").addClass("text-danger text-center").html('Sorry but an error occured while checking your download. Click <a href="#">HERE</a> to retry.')).find("a").on("click",s)})};return function(){n||(n=!0,s())}}),define("text!skins/default/video/favorites/list.html",[],function(){return'<li href="#" class="list-group-item">\n	<span class="badge">{{ nb_video }} vids</span>\n	<strong>{{ name }}</strong>\n	<button type="button" class="btn btn-default btn-xs add"{{^add_btn}} style="display:none;"{{/add_btn}}>Add video</button>\n	{{#in_list}} {{>remove}}{{/in_list}}\n	{{#max_videos_reached}} {{>maxreached}}{{/max_videos_reached}}\n</li>'}),define("text!skins/default/video/favorites/list_remove.html",[],function(){return'<span class="small remove">/ The video is in this list <button type="button" class="btn btn-default btn-xs">Remove</button></span>'}),define("text!skins/default/video/favorites/list_maxreached.html",[],function(){return'<span class="small text-danger maxreached">/ Max number of videos allowed reached.</span>'}),define("skins/default/video/favorites/list",["mustache","includes/helpers/inline_loader","text!./list.html","text!./list_remove.html","text!./list_maxreached.html"],function(e,t,n,o,i){var s,a=function(e,n,o){e.on("click",function(e){e.preventDefault();var i="add"===o?"Adding the video to your favorites":"Removing the video from your favorites";s.setContent(t.get("after",i+' "'+n.name+'"...').getHtml()).setClosable(!1).show(),$.post("/favorites/"+o+"/"+n.id_video+"/"+n.id+"/",function(e){return e.LOGGED?e.BAD_REQUEST||e.ERROR||"remove"===o&&!e.REMOVED||"add"===o&&!e.ADDED?void s.setContent('<span class="text-danger">An error occured while '+i.toLowerCase()+" ! Please retry...</span>").setClosable(!0):(n.setInList("add"===o),void s.hide()):void n.display_login()},"json").fail(function(){s.setContent('<span class="text-danger">An error occured while '+i.toLowerCase()+" ! Please retry...</span>").setClosable(!0)})})},r=function(t,s,r){this.id_video=t,this.display_login=r,$.extend(this,s),s.add_btn=!s.in_list&&!s.max_videos_reached,this.node=$(e.render(n,s,{remove:o,maxreached:i})),s.in_list&&this.node.addClass("video-in-list"),this.addbtn=this.node.find(".btn.add"),a(this.addbtn,this,"add"),this.removebtn=this.node.find(".remove .btn"),this.removebtn.length>0&&a(this.removebtn,this,"remove"),this.maxreached=this.node.find(".maxreached")};return r.prototype={getNode:function(){return this.node},setInList:function(e){if(e&&0===this.removebtn.length){var t=$(o);this.removebtn=t.find(".btn"),a(this.removebtn,this,"remove"),this.maxreached.length>0?t.insertBefore(this.maxreached):this.node.append(t)}this.in_list=e,e?(this.nb_video++,this.node.addClass("video-in-list")):(this.nb_video--,this.max_videos_reached=!1,this.maxreached.hide(),this.node.removeClass("video-in-list")),this.addbtn.toggle(!e&&!this.max_videos_reached),this.removebtn.parent().toggle(e),this.node.find(".badge").text(this.nb_video+" vids")}},r.setOverlay=function(e){s=e},r}),define("text!skins/default/video/favorites/form.html",[],function(){return'<div class="list-group">\n	<div class="list-group-item">\n		<form class="form-inline">\n			{{^max_reached}}\n			<div class="form-group">\n				<p class="form-control-static"><strong>OR create a new list:</strong></p>\n			</div>\n			<div class="form-group">\n				<label class="sr-only" for="new-fav-list-name">Name</label>\n				<input type="text" name="name" class="form-control" id="new-fav-list-name" placeholder="Name" required />\n			</div>\n			<div class="form-group">\n				<label>Visibility:</label>\n				<select class="form-control" name="status">\n					<option value="ANYONE">Public</option>\n					<option value="REGISTER">Registered users</option>\n					<option value="FRIEND">Only friends</option>\n					<option value="NOBODY">Nobody</option>\n				</select>\n			</div>\n			<button type="submit" class="btn btn-default">Create list and add the video in it</button>\n			{{/max_reached}}\n			{{#max_lists_reached}}\n			<div class="form-group">\n				<p class="form-control-static text-danger"><strong>You have reached the maximum number of favorites list allowed. Delete some of them to create new ones.</strong></p>\n			</div>\n			{{/max_lists_reached}}\n			{{#max_vids_reached}}\n			<div class="form-group">\n				<p class="form-control-static text-danger"><strong>You have reached the maximum number of videos allowed in favorites lists. Remove some videos or lists to add new videos to favorites.</strong></p>\n			</div>\n			{{/max_vids_reached}}\n			<a href="{{ upload_domain }}/account/managefavorites" class="btn btn-default" target="blank">Manage all your favorites</a>\n		</form>\n	</div>\n</div>'}),define("skins/default/video/favorites/form",["config/main","mustache","includes/helpers/inline_loader","text!./form.html"],function(e,t,n,o){var i,s=function(s,a,r,l){this.id_video=s,this.display_login=l,this.node=$(t.render(o,{max_reached:a||r,max_lists_reached:a,max_vids_reached:r,upload_domain:e.domains.master})),this.input_name=this.node.find("input"),this.select_vis=this.node.find("select");var c=this;this.form=this.node.find("form").on("submit",function(e){e.preventDefault();var t=$.trim(c.input_name.val());return t.length<3?void alert("Please enter a list name with at least 3 characters."):(i.setContent(n.get("after","Creating the new list and adding the video in it...").getHtml()).setClosable(!1).show(),void $.post("/favorites/createlist/"+c.id_video+"/",c.form.serializeArray(),function(e){if(!e.LOGGED)return void c.display_login();if(e.BAD_REQUEST||e.ERROR||!e.ADDED||!e.LIST_CREATED){var n="An error occured while adding the video to your favorites ! Please retry...";return"string"==typeof e.ERROR&&(n="Error: "+e.ERROR+" ! Please retry..."),void i.setContent('<span class="text-danger">'+n+"</span>").setClosable(!0)}c.input_name.val(""),c.select_vis.val("ANYONE");var o={id:e.LIST_CREATED,name:t,in_list:!0,nb_video:1,max_videos_reached:!1};c.onListCreated(o),i.hide()},"json").fail(function(){i.setContent('<span class="text-danger">An error occured while adding the video to your favorites ! Please retry...</span>').setClosable(!0)}))})};return s.prototype={onListCreated:null,getNode:function(){return this.node}},s.setOverlay=function(e){i=e},s}),define("text!skins/default/video/favorites/page.html",[],function(){return'<div class="row">\n	<div class="col-sm-6"><ul class="list-group"></ul></div>\n	{{#two_cols}}<div class="col-sm-6"><ul class="list-group"></ul></div>{{/two_cols}}\n</div>'}),define("skins/default/video/favorites",["config/main","mustache","static/dom","includes/helpers/pager","includes/helpers/overlay/box","includes/helpers/inline_loader","./favorites/list","./favorites/form","text!./favorites/page.html"],function(e,t,n,o,i,s,a,r,l){var c,d,u,h,f,p=!1,g=!1,v=[],m=!1,b=function(){for(var e in v)v[e].node.remove(),v[e].pager&&v[e].pager.remove();v=[],m=!1,g=!1},_=function(){b(),require(["skins/common/form/login","text!skins/default/form/login.html","includes/tools"],function(e,t,n){
var o=new e("You must be logged in to add this video to your favorites.",n.parseUrl(window.location.href,"body")+"#_tabFavs",t);u.empty().append(o.getNode())})},y=function(e){m!==!1&&(v[m].node.toggle(e),v[m].pager&&v[m].pager.toggle(e))},w=function(){return h||(h=i.get(u,!1,"hide").setContent(s.get("after","Loading favorites...").getNode())),h},x=function(){f&&w().show()},T=function(e){e.preventDefault(),E(parseInt($(this).attr("href").substr(1)))},k=function(s){if(!s.LOGGED)return void _();if(s.BAD_REQUEST){var h=$('<span class="text-danger">Failed loading favorites! Click <a>Here</a> to retry.</span>').find("a").on("click",function(){E(m)});return void i.get(u,!0).setContent(h).show()}if(!g){g=!0;var f=new r(e.data.id_video,s.MAX_LISTS_REACHED,s.MAX_VIDEOS_REACHED,_);u.append(f.getNode()),f.onListCreated=function(t){var n=new a(e.data.id_video,t,_);v[m].node.find("ul").eq(0).append(n.getNode())}}y(!1);var p=s.LISTS.length,b=$(t.render(l,{two_cols:p>3})),w=b.find("ul");for(var x in s.LISTS){var k=new a(e.data.id_video,s.LISTS[x],_),C=0;p>3&&x>=Math.floor(p/2)&&(C=1),w.eq(C).append(k.getNode())}if(b.prependTo(u),v[c]={node:b},s.PAGINATION){var S=o.get(s.PAGINATION).on("click","a",T);v[c].pager=S,S.prependTo(u)}n.scrollToTop(d.position().top-10),m=c},E=function(t){if("undefined"==typeof t&&(t=0),!f&&t!==m){if("undefined"!=typeof v[t])return y(!1),m=t,y(!0),void n.scrollToTop(d.position().top-10);f=!0,c=t,window.setTimeout(x,500),$.post("/favorites/view/"+e.data.id_video+"/"+t+"/",k,!1).fail(function(){i.get(u,!0).setContent('<strong class="text-danger">Failed loading comments! Please try again...</strong>').show()}).complete(function(){f=!1,w().hide()})}};return function(){p||(p=!0,d=$("#tabFavs"),u=$("#favs-container"),a.setOverlay(i.get(u,!1,"hide")),r.setOverlay(i.get(u,!1,"hide")),E())}}),define("text!skins/default/video/sponsor_link.html",[],function(){return'<div id="video-sponsor-links"><a class="mobile-show" id="show-channel-desc">+</a>More videos like this one at <a href="{{{u}}}" target="_blank"><strong>{{{n}}}</strong></a> <span class="channel-desc">- {{{d}}}</span></div>'}),define("text!skins/default/video/share.html",[],function(){return'<div class="addthis_toolbox addthis_default_style addthis_32x32_style">\n	<a class="addthis_button_preferred_1"></a>\n	<a class="addthis_button_preferred_2"></a>\n	<a class="addthis_button_preferred_3"></a>\n	<a class="addthis_button_preferred_4"></a>\n	<a class="addthis_button_preferred_5"></a>\n	<a class="addthis_button_preferred_6"></a>\n	<a class="addthis_button_preferred_7"></a>\n	<a class="addthis_button_preferred_8"></a>\n	<a class="addthis_button_preferred_9"></a>\n	<a class="addthis_button_preferred_10"></a>\n	<a class="addthis_button_preferred_11"></a>\n	<a class="addthis_button_compact"></a>\n	<a class="addthis_counter addthis_bubble_style"></a>\n</div>'}),define("skins/default/video/related",["static/dom","includes/helpers/thumbs_rotator"],function(e,t){var n,o,i,s=$("#related-videos"),a=s.children(".embed-responsive-item"),r=a.children(".mozaique"),l=r.children(),c=l.first(),d=0,u=0,h=!1,f={};s.removeClass("embed-responsive");var p=function(){if(h){h=!1,i=null;var t=e.getViewportWidth();o=5,480>t?o=2:768>t&&(o=3);var r=Math.round(s.outerWidth(!0)/o*6/4);o=2*o,n=2*c.outerHeight(!0),r>n&&(n+=r),s.height(n),u=0,d>0&&(u=d*n),a.css("margin-top",-1*u+"px")}},g=function(){h=!0,i||(i=setTimeout(p,500))};h=!0,p(),$(window).on("resize",g),$(document).ready(function(){h=!0,p()}),$("#related-videos-show-more").on("click",function(){d++;var e=d*o;u+=n,e>=l.length&&(u=0,d=0,e=0);for(var i=e;e+o>i;i++)if(!(i>=l.length||"undefined"!=typeof f["pic_"+i])){f["pic_"+i]=!0;var s=l.eq(i).find(".thumb a"),c=s.data("src");if(c){var h=s.data("vid");s.append('<img src="'+c+'" id="pic_'+h+'" onload="xv.thumbs.errorsmgr.pictureLoaded('+h+')" onerror="xv.thumbs.errorsmgr.pictureError('+h+')" />')}}t(r),a.animate({marginTop:-1*u+"px"},"slow")})}),define("skins/common/video/vote",["config/main","includes/helpers/inline_loader","includes/helpers/overlay"],function(e,t,n){var o=$("#video-views-votes,#video-votes"),i=o.find(".vote-actions a"),s=!1;i.on("click",function(a){if(a.preventDefault(),!s){s=!0;var r=$(this),l=r.html(),c=r.hasClass("vote-action-good")?e.data.vote_urls.good:e.data.vote_urls.bad;i.addClass("disabled"),r.html(t.getImg()),$.post(c,function(e){r.html(l);var t;e.result?(o.find(".rating-bar .total").text(e.total),o.find(".rating-bar .pgs-bar div").css("width",e.rating+"%"),o.find(".rating-box").text(e.rating+"%"),i.filter(".vote-action-good").children(".value").text(e.vgood),i.filter(".vote-action-bad").children(".value").text(e.vbad),t="<strong>Thanks for your vote!</strong>"):t='<strong class="text-danger">'+e.message+"</strong>",n.get(o).setContent(t).show().autoclose(5e3)},"json").fail(function(){r.html(l),n.get(o).setContent('<strong class="text-danger">Error! Please reload the page.</strong>').show().autoclose(5e3)})}})}),define("skins/default/video/subscribe",["config/main","includes/helpers/inline_loader"],function(e,t){var n=$("#video-subscribe");if(n){if(!e.data.login_info.is_logged)return void n.show().prop("href",e.domains.master+"/account/?redirect="+encodeURIComponent(window.location.href));if(e.data.login_info.profile){var o=function(o){if(o.result){var i,s,a,r=n.children(".label");switch(o.result){case"NOT-LOGGUED":return void n.show().off("click").prop("href",e.domains.master+"/account/?redirect="+encodeURIComponent(window.location.href));case"NOT-SUBSCRIBED":i="/profiles/"+e.data.uploader+"/subscribe/",a='Subscribed! <a href="'+e.domains.master+'/account/activities/video">View activities</a>';break;case"SUBSCRIBED":r.text("Unsubscribe"),i="/profiles/"+e.data.uploader+"/unsubscribe/",s="Are you sure to unsubscribe?",a="Unsubscribed!";break;default:return}n.show().off("click").on("click",function(){(!s||window.confirm(s))&&(r.html(t.get("after","Loading...").getHtml()),$.post(i,function(e){"OK"===e?(r.html(a),n.off("click")):r.text("ERROR")}).fail(function(){r.text("ERROR")}))})}};$.post("/profiles/"+e.data.uploader+"/subscribe-button/",o,"json")}}}),define("text!skins/default/video/report/form.html",[],function(){return'<div class="tab-form">\n	<form id="video-report-form" class="form-horizontal">\n		<div class="row">\n			<div class="col-sm-6">\n				<div class="form-group">\n					<label class="col-xs-2 control-label" for="video-report-form-email">Reason:</label>\n					<div class="col-xs-10 text-center">\n						{{# reasons }}\n						<div class="radio-inline"><label><input type="radio" name="reason" value="{{ value }}"{{# checked }} checked{{/ checked }}> {{ label }}</label></div>\n						{{/ reasons }}\n					</div>\n				</div>\n				<div class="form-group">\n					<label class="col-xs-2 control-label" for="video-report-form-email">Email:</label>\n					<div class="col-xs-10">\n						<input type="email" name="email" id="video-report-form-email" class="form-control" required placeholder="Please leave your email" />\n					</div>\n				</div>\n			</div>\n			<div class="col-sm-6">\n				<div class="form-group">\n					<div class="col-sm-12">\n						<textarea class="form-control" name="message" rows="3" required placeholder="Please give us some details, or your report will be ignored."></textarea>\n					</div>\n				</div>\n			</div>\n		</div>\n		<div class="form-group">\n			<div class="col-xs-12">\n				<button type="button" class="submit btn btn-default pull-right">Report</button>\n				<a href="http://info.xvideos.com/content/" target="_blank" class="btn btn-default btn-sm light-label wrap">Content owners, click here to send us a takedown request for copyright infringement.</a>\n			</div>\n		</div>\n	</form>\n</div>'}),define("skins/default/video/report/form",["config/main","mustache","includes/helpers/inline_loader","includes/helpers/overlay/box","text!./form.html"],function(e,t,n,o,i){var s=function(){var s=[{value:"nevermind",label:"Nevermind",checked:!0},{value:"spam",label:"Spam",checked:!1},{value:"notporn",label:"Not Porn",checked:!1},{value:"underage",label:"Underage",checked:!1},{value:"other",label:"Other",checked:!1}];this.node=$(t.render(i,{reasons:s}));var a,r=!1,l=this,c=this.node.children("form"),d=function(e){if(e.validation_error)o.get(l.getNode(),!0).setContent('<strong class="text-danger">'+e.message+"</strong>").show();else{var t=e.result?"text-success":"text-danger";l.getNode().replaceWith('<p class="text-center"><strong class="'+t+'">'+e.message+"</strong></p>")}},u=function(){if(!r){a||(a=o.get(l.getNode(),!1,"hide").setContent(n.get("after","Sending report...").getHtml())),a.show();var t=c.serializeArray();for(var i in t)if("reason"===t[i].name){if("nevermind"===t[i].value)return void d({result:!0,message:"Thanks for your report!"});break}$.post("http://"+e.data.report_domain+"/video-report/"+e.data.id_video+"/0",t,d,"json").fail(function(){o.get(l.getNode(),!0).setContent('<strong class="text-danger">Sending the report failed... Please close this message and try again.</strong>').show()}).always(function(){a.hide()})}};this.node.find("button").on("click",u)};return s.prototype={getNode:function(){return this.node}},new s}),define("skins/default/video",["config/main"],function(e){null!==e.data.id_video&&require(["mustache","static/utils","includes/tab","skins/default/video/comments","skins/default/video/download","skins/default/video/favorites","text!skins/default/video/sponsor_link.html","text!skins/default/video/share.html","skins/default/video/related","skins/common/video/vote","skins/default/video/subscribe","skins/default/search/autocomplete","includes/helpers/thumbs_rotator"],function(t,n,o,i,s,a,r,l){if(e.data.sponsors&&e.data.sponsors.length>0){var c=Math.random()*e.data.sponsors.length,d=e.data.sponsors[Math.floor(c)];$(t.render(r,d)).insertBefore($("#main > h2").first()),$("#show-channel-desc").on("click",function(e){e.preventDefault(),$(this).parent().addClass("expanded")})}var u=$("#show-all-tags"),h=u.next().children("a:last-child");h.position().left+h.outerWidth(!0)>=u.position().left-10?u.on("click",function(e){e.preventDefault(),$(this).parent().addClass("expanded")}):u.remove();var f={};f.tabComments=i,f.tabDownload=s,f.tabFavs=a,f.tabShare=function(){$("#tabShare").append(l),n.loadScript("//s7.addthis.com/js/250/addthis_widget.js#pubid=xa-501f7bd44d12cd79")},f.tabReport=function(){require(["skins/default/video/report/form"],function(e){$("#tabReport").append(e.getNode())})},new o("#video-tabs",f,!0)})}),function(){function e(t,o){function s(e){if(s[e]!==v)return s[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=s("json-stringify")&&s("json-parse");else{var n,i='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var l=o.stringify,d="function"==typeof l&&_;if(d){(n=function(){return 1}).toJSON=n;try{d="0"===l(0)&&"0"===l(new a)&&'""'==l(new r)&&l(b)===v&&l(v)===v&&l()===v&&"1"===l(n)&&"[1]"==l([n])&&"[null]"==l([v])&&"null"==l(null)&&"[null,null,null]"==l([v,b,null])&&l({a:[n,!0,!1,null,"\x00\b\n\f\r	"]})==i&&"1"===l(null,n)&&"[\n 1,\n 2\n]"==l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==l(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==l(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==l(new c(-1))}catch(u){d=!1}}t=d}if("json-parse"==e){var h=o.parse;if("function"==typeof h)try{if(0===h("0")&&!h(!1)){n=h(i);var f=5==n.a.length&&1===n.a[0];if(f){try{f=!h('"	"')}catch(u){}if(f)try{f=1!==h("01")}catch(u){}if(f)try{f=1!==h("1.")}catch(u){}}}}catch(u){f=!1}t=f}}return s[e]=!!t}t||(t=i.Object()),o||(o=i.Object());var a=t.Number||i.Number,r=t.String||i.String,l=t.Object||i.Object,c=t.Date||i.Date,d=t.SyntaxError||i.SyntaxError,u=t.TypeError||i.TypeError,h=t.Math||i.Math,f=t.JSON||i.JSON;"object"==typeof f&&f&&(o.stringify=f.stringify,o.parse=f.parse);var p,g,v,m=l.prototype,b=m.toString,_=new c(-0xc782b5b800cec);try{_=-109252==_.getUTCFullYear()&&0===_.getUTCMonth()&&1===_.getUTCDate()&&10==_.getUTCHours()&&37==_.getUTCMinutes()&&6==_.getUTCSeconds()&&708==_.getUTCMilliseconds()}catch(y){}if(!s("json")){var w="[object Function]",x="[object Date]",T="[object Number]",k="[object String]",E="[object Array]",C="[object Boolean]",$=s("bug-string-char-index");if(!_)var S=h.floor,O=[0,31,59,90,120,151,181,212,243,273,304,334],M=function(e,t){return O[t]+365*(e-1970)+S((e-1969+(t=+(t>1)))/4)-S((e-1901+t)/100)+S((e-1601+t)/400)};if((p=m.hasOwnProperty)||(p=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=b?p=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,p=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,p.call(this,e)}),g=function(e,t){var o,i,s,a=0;(o=function(){this.valueOf=0}).prototype.valueOf=0,i=new o;for(s in i)p.call(i,s)&&a++;return o=i=null,a?g=2==a?function(e,t){var n,o={},i=b.call(e)==w;for(n in e)i&&"prototype"==n||p.call(o,n)||!(o[n]=1)||!p.call(e,n)||t(n)}:function(e,t){var n,o,i=b.call(e)==w;for(n in e)i&&"prototype"==n||!p.call(e,n)||(o="constructor"===n)||t(n);(o||p.call(e,n="constructor"))&&t(n)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],g=function(e,t){var o,s,a=b.call(e)==w,r=!a&&"function"!=typeof e.constructor&&n[typeof e.hasOwnProperty]&&e.hasOwnProperty||p;for(o in e)a&&"prototype"==o||!r.call(e,o)||t(o);for(s=i.length;o=i[--s];r.call(e,o)&&t(o));}),g(e,t)},!s("json-stringify")){var N={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},R="000000",j=function(e,t){return(R+(t||0)).slice(-e)},X="\\u00",A=function(e){for(var t='"',n=0,o=e.length,i=!$||o>10,s=i&&($?e.split(""):e);o>n;n++){var a=e.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=N[a];break;default:if(32>a){t+=X+j(2,a.toString(16));break}t+=i?s[n]:e.charAt(n)}}return t+'"'},Y=function(e,t,n,o,i,s,a){var r,l,c,d,h,f,m,_,y,w,$,O,N,R,X,D;try{r=t[e]}catch(L){}if("object"==typeof r&&r)if(l=b.call(r),l!=x||p.call(r,"toJSON"))"function"==typeof r.toJSON&&(l!=T&&l!=k&&l!=E||p.call(r,"toJSON"))&&(r=r.toJSON(e));else if(r>-1/0&&1/0>r){if(M){for(h=S(r/864e5),c=S(h/365.2425)+1970-1;M(c+1,0)<=h;c++);for(d=S((h-M(c,0))/30.42);M(c,d+1)<=h;d++);h=1+h-M(c,d),f=(r%864e5+864e5)%864e5,m=S(f/36e5)%24,_=S(f/6e4)%60,y=S(f/1e3)%60,w=f%1e3}else c=r.getUTCFullYear(),d=r.getUTCMonth(),h=r.getUTCDate(),m=r.getUTCHours(),_=r.getUTCMinutes(),y=r.getUTCSeconds(),w=r.getUTCMilliseconds();r=(0>=c||c>=1e4?(0>c?"-":"+")+j(6,0>c?-c:c):j(4,c))+"-"+j(2,d+1)+"-"+j(2,h)+"T"+j(2,m)+":"+j(2,_)+":"+j(2,y)+"."+j(3,w)+"Z"}else r=null;if(n&&(r=n.call(t,e,r)),null===r)return"null";if(l=b.call(r),l==C)return""+r;if(l==T)return r>-1/0&&1/0>r?""+r:"null";if(l==k)return A(""+r);if("object"==typeof r){for(R=a.length;R--;)if(a[R]===r)throw u();if(a.push(r),$=[],X=s,s+=i,l==E){for(N=0,R=r.length;R>N;N++)O=Y(N,r,n,o,i,s,a),$.push(O===v?"null":O);D=$.length?i?"[\n"+s+$.join(",\n"+s)+"\n"+X+"]":"["+$.join(",")+"]":"[]"}else g(o||r,function(e){var t=Y(e,r,n,o,i,s,a);t!==v&&$.push(A(e)+":"+(i?" ":"")+t)}),D=$.length?i?"{\n"+s+$.join(",\n"+s)+"\n"+X+"}":"{"+$.join(",")+"}":"{}";return a.pop(),D}};o.stringify=function(e,t,o){var i,s,a,r;if(n[typeof t]&&t)if((r=b.call(t))==w)s=t;else if(r==E){a={};for(var l,c=0,d=t.length;d>c;l=t[c++],r=b.call(l),(r==k||r==T)&&(a[l]=1));}if(o)if((r=b.call(o))==T){if((o-=o%1)>0)for(i="",o>10&&(o=10);i.length<o;i+=" ");}else r==k&&(i=o.length<=10?o:o.slice(0,10));return Y("",(l={},l[""]=e,l),s,a,i,"",[])}}if(!s("json-parse")){var D,L,I=r.fromCharCode,U={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},H=function(){throw D=L=null,d()},P=function(){for(var e,t,n,o,i,s=L,a=s.length;a>D;)switch(i=s.charCodeAt(D)){case 9:case 10:case 13:case 32:D++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=$?s.charAt(D):s[D],D++,e;case 34:for(e="@",D++;a>D;)if(i=s.charCodeAt(D),32>i)H();else if(92==i)switch(i=s.charCodeAt(++D)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=U[i],D++;break;case 117:for(t=++D,n=D+4;n>D;D++)i=s.charCodeAt(D),i>=48&&57>=i||i>=97&&102>=i||i>=65&&70>=i||H();e+=I("0x"+s.slice(t,D));break;default:H()}else{if(34==i)break;for(i=s.charCodeAt(D),t=D;i>=32&&92!=i&&34!=i;)i=s.charCodeAt(++D);e+=s.slice(t,D)}if(34==s.charCodeAt(D))return D++,e;H();default:if(t=D,45==i&&(o=!0,i=s.charCodeAt(++D)),i>=48&&57>=i){for(48==i&&(i=s.charCodeAt(D+1),i>=48&&57>=i)&&H(),o=!1;a>D&&(i=s.charCodeAt(D),i>=48&&57>=i);D++);if(46==s.charCodeAt(D)){for(n=++D;a>n&&(i=s.charCodeAt(n),i>=48&&57>=i);n++);n==D&&H(),D=n}if(i=s.charCodeAt(D),101==i||69==i){for(i=s.charCodeAt(++D),(43==i||45==i)&&D++,n=D;a>n&&(i=s.charCodeAt(n),i>=48&&57>=i);n++);n==D&&H(),D=n}return+s.slice(t,D)}if(o&&H(),"true"==s.slice(D,D+4))return D+=4,!0;if("false"==s.slice(D,D+5))return D+=5,!1;if("null"==s.slice(D,D+4))return D+=4,null;H()}return"$"},q=function(e){var t,n;if("$"==e&&H(),"string"==typeof e){if("@"==($?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=P(),"]"!=e;n||(n=!0))n&&(","==e?(e=P(),"]"==e&&H()):H()),","==e&&H(),t.push(q(e));return t}if("{"==e){for(t={};e=P(),"}"!=e;n||(n=!0))n&&(","==e?(e=P(),"}"==e&&H()):H()),(","==e||"string"!=typeof e||"@"!=($?e.charAt(0):e[0])||":"!=P())&&H(),t[e.slice(1)]=q(P());return t}H()}return e},z=function(e,t,n){var o=F(e,t,n);o===v?delete e[t]:e[t]=o},F=function(e,t,n){var o,i=e[t];if("object"==typeof i&&i)if(b.call(i)==E)for(o=i.length;o--;)z(i,o,n);else g(i,function(e){z(i,e,n)});return n.call(e,t,i)};o.parse=function(e,t){var n,o;return D=0,L=""+e,n=q(P()),"$"!=P()&&H(),D=L=null,t&&b.call(t)==w?F((o={},o[""]=n,o),"",t):n}}}return o.runInContext=e,o}var t="function"==typeof define&&define.amd,n={"function":!0,object:!0},o=n[typeof exports]&&exports&&!exports.nodeType&&exports,i=n[typeof window]&&window||this,s=o&&n[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!s||s.global!==s&&s.window!==s&&s.self!==s||(i=s),o&&!t)e(i,o);else{var a=i.JSON,r=i.JSON3,l=!1,c=e(i,i.JSON3={noConflict:function(){return l||(l=!0,i.JSON=a,i.JSON3=r,a=r=null),c}});i.JSON={parse:c.parse,stringify:c.stringify}}t&&define("json3",[],function(){return c})}.call(this),define("includes/json",[],function(){("undefined"==typeof JSON||"undefined"==typeof JSON.parse)&&require(["json3"])}),define("includes/ads",["config/main","static/cookies","static/utils","includes/json"],function(e,t,n){if("undefined"!=typeof e.ads&&"undefined"!=typeof e.ads.banners&&0!==e.ads.banners.length){for(var o=function(e){if(!e.div_id)return console.error("error: invalid banner: ",e),!1;var t=document.getElementById(e.div_id);return t?(t.innerHTML="",!0):(console.error("error: div "+e.div_id+" is missing"),!1)},i=[],s=!1,a=!1,r=!1,l=0;l<e.ads.banners.length;l++){var c=e.ads.banners[l];o(c)&&(c.is_mobile=!0,c.is_desktop=!0,c.is_largescr=!1,"undefined"!=typeof c.mobile||"undefined"!=typeof c.desktop?(c.is_mobile="undefined"!=typeof c.mobile&&c.mobile,c.is_desktop="undefined"!=typeof c.desktop&&c.desktop):"undefined"!=typeof c.largescr&&c.largescr&&(c.is_mobile=!1,c.is_desktop=!1,c.is_largescr=!0),c.is_loaded=!1,i.push(c))}if(0!==i.length){var d=t.get("wpn_ad_cookie"),u=e.ads.site,h="",f="";d||(d=""),"string"==typeof e.ads.categories&&e.ads.categories.length>0&&(h=e.ads.categories),"string"==typeof e.ads.tracker&&e.ads.tracker.length>0&&(f=e.ads.tracker);var p=function(e){var o=[];o.push("http://rpc-php.trafficfactory.biz/json");for(var i=[],s=0;s<e.length;s++){var a=e[s];"undefined"==typeof a.area_tag?i.push(a.type+"-"+a.nb_ban):i.push(a.type+"-"+a.area_tag+"-"+a.nb_ban),e[s].is_loaded=!0}o.push(i.join("x")),o.push(d),o.push(h),o.push(u),o.push(f),o.push(""),o.push("content.json?v="+Math.random());try{var r=n.createRequestObject();r.open("GET",o.join("/"),!0),r.onreadystatechange=function(n){if(4==r.readyState&&200==r.status){var o=r.responseText;if("string"==typeof o&&(o=JSON.parse(o)),!o||!o.tracker_id||!o.banners)return;t.setLocal("wpn_ad_cookie",o.tracker_id,864e5,"/");for(var i=0;i<o.banners.length;i++){for(var s=o.banners[i],a="",l=0;l<s.length;l++)a+='<a href="'+s[l].url+'" target="_blank"><img src="'+s[l].banner+'" /></a>';""===a&&"inplayersquare"===e[i].type&&(a="NOAD"),document.getElementById(e[i].div_id).innerHTML=a}}},r.send(null)}catch(l){window.wpn_ad_configuration=e;var c=[];c.push("http://rpc-php.trafficfactory.biz"),c.push(i.join("x")),c.push(d),c.push("0"),c.push(h),c.push(u),c.push(f),c.push("display.js?v="+Math.random());var p=document.createElement("script");p.src=c.join("/"),p.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(p)}},g=function(){var e=0;if("undefined"!=typeof window.innerWidth)e=window.innerWidth;else if("undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&document.documentElement.clientWidth>0)e=document.documentElement.clientWidth;else if("undefined"!=typeof document.getElementsByTagName){var t=document.getElementsByTagName("body");t.length>0&&"undefined"!=typeof t[0].clientWidth&&t[0].clientWidth>0&&(e=t[0].clientWidth)}return e>0?e:1024},v=768,m=(t.get("hexavid_no_responsive")?930:1280)+184;"xnxx"===e.sitename&&(v=992);var b=function(){var e=g(),t=v>=e&&!s,n=e>v&&!a,o=e>=m&&!r;if(t||n||o){t&&(s=!0),n&&(a=!0),o&&(r=!0);for(var l=[],c=0;c<i.length;c++){var d=i[c];d.is_loaded||(t&&d.is_mobile||n&&d.is_desktop||o&&d.is_largescr)&&l.push(d)}0!==l.length&&p(l,u,h,f)}};if("undefined"!=typeof window.addEventListener)window.addEventListener("resize",b);else if("function"==typeof window.onresize){var _=window.onresize;window.onresize=function(){_(),b()}}else window.onresize=b;b();var y=!0;window.toggle_wpn_ads=function(e){if(e=!!e,e!==y&&"OK"!==t.get("disclaimer_display")){for(var n in i){var o=document.getElementById(i[n].div_id);o&&(o.style.display=e?"":"none")}y=e}},e.data.show_disclaimer===!0&&window.toggle_wpn_ads(!1)}}}),function(e){"use strict";function t(){w(!0)}var n={};e.respond=n,n.update=function(){};var o=[],i=function(){var t=!1;try{t=new e.XMLHttpRequest}catch(n){t=new e.ActiveXObject("Microsoft.XMLHTTP")}return function(){return t}}(),s=function(e,t){var n=i();n&&(n.open("GET",e,!0),n.onreadystatechange=function(){4!==n.readyState||200!==n.status&&304!==n.status||t(n.responseText)},4!==n.readyState&&n.send(null))},a=function(e){return e.replace(n.regex.minmaxwh,"").match(n.regex.other)};if(n.ajax=s,n.queue=o,n.unsupportedmq=a,n.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,comments:/\/\*[^*]*\*+([^\/][^*]*\*+)*\//gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,maxw:/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,minmaxwh:/\(\s*m(in|ax)\-(height|width)\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/gi,other:/\([^\)]*\)/g},n.mediaQueriesSupported=e.matchMedia&&null!==e.matchMedia("only all")&&e.matchMedia("only all").matches,!n.mediaQueriesSupported){var r,l,c,d=e.document,u=d.documentElement,h=[],f=[],p=[],g={},v=30,m=d.getElementsByTagName("head")[0]||u,b=d.getElementsByTagName("base")[0],_=m.getElementsByTagName("link"),y=function(){var e,t=d.createElement("div"),n=d.body,o=u.style.fontSize,i=n&&n.style.fontSize,s=!1;return t.style.cssText="position:absolute;font-size:1em;width:1em",n||(n=s=d.createElement("body"),n.style.background="none"),u.style.fontSize="100%",n.style.fontSize="100%",n.appendChild(t),s&&u.insertBefore(n,u.firstChild),e=t.offsetWidth,s?u.removeChild(n):n.removeChild(t),u.style.fontSize=o,i&&(n.style.fontSize=i),e=c=parseFloat(e)},w=function(t){var n="clientWidth",o=u[n],i="CSS1Compat"===d.compatMode&&o||d.body[n]||o,s={},a=_[_.length-1],g=(new Date).getTime();if(t&&r&&v>g-r)return e.clearTimeout(l),void(l=e.setTimeout(w,v));r=g;for(var b in h)if(h.hasOwnProperty(b)){var x=h[b],T=x.minw,k=x.maxw,E=null===T,C=null===k,$="em";T&&(T=parseFloat(T)*(T.indexOf($)>-1?c||y():1)),k&&(k=parseFloat(k)*(k.indexOf($)>-1?c||y():1)),x.hasquery&&(E&&C||!(E||i>=T)||!(C||k>=i))||(s[x.media]||(s[x.media]=[]),s[x.media].push(f[x.rules]))}for(var S in p)p.hasOwnProperty(S)&&p[S]&&p[S].parentNode===m&&m.removeChild(p[S]);p.length=0;for(var O in s)if(s.hasOwnProperty(O)){var M=d.createElement("style"),N=s[O].join("\n");M.type="text/css",M.media=O,m.insertBefore(M,a.nextSibling),M.styleSheet?M.styleSheet.cssText=N:M.appendChild(d.createTextNode(N)),p.push(M)}},x=function(e,t,o){var i=e.replace(n.regex.comments,"").replace(n.regex.keyframes,"").match(n.regex.media),s=i&&i.length||0;t=t.substring(0,t.lastIndexOf("/"));var r=function(e){return e.replace(n.regex.urls,"$1"+t+"$2$3")},l=!s&&o;t.length&&(t+="/"),l&&(s=1);for(var c=0;s>c;c++){var d,u,p,g;l?(d=o,f.push(r(e))):(d=i[c].match(n.regex.findStyles)&&RegExp.$1,f.push(RegExp.$2&&r(RegExp.$2))),p=d.split(","),g=p.length;for(var v=0;g>v;v++)u=p[v],a(u)||h.push({media:u.split("(")[0].match(n.regex.only)&&RegExp.$2||"all",rules:f.length-1,hasquery:u.indexOf("(")>-1,minw:u.match(n.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:u.match(n.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}w()},T=function(){if(o.length){var t=o.shift();s(t.href,function(n){x(n,t.href,t.media),g[t.href]=!0,e.setTimeout(function(){T()},0)})}},k=function(){for(var t=0;t<_.length;t++){var n=_[t],i=n.href,s=n.media,a=n.rel&&"stylesheet"===n.rel.toLowerCase();i&&a&&!g[i]&&(n.styleSheet&&n.styleSheet.rawCssText?(x(n.styleSheet.rawCssText,i,s),g[i]=!0):(!/^([a-zA-Z:]*\/\/)/.test(i)&&!b||i.replace(RegExp.$1,"").split("/")[0]===e.location.host)&&("//"===i.substring(0,2)&&(i=e.location.protocol+i),o.push({href:i,media:s})))}T()};k(),n.update=k,n.getEmValue=y,e.addEventListener?e.addEventListener("resize",t,!1):e.attachEvent&&e.attachEvent("onresize",t)}}(this),define("respond",function(){}),define("text!includes/helpers/popup/template.html",[],function(){return'<div class="x-popup {{ position }} {{ cls }}">\n	<div class="x-popup-arrow"></div>\n	<div class="x-popup-content"></div>\n</div>\n'}),define("includes/helpers/popup",["mustache","text!./popup/template.html"],function(e,t){var n={relative_to:$(document.body),position:{v:"below",h:"right"},max_height:0,trigger:"click",template:t,popup_class:null},o=function(e,t,o){this.options=$.extend({},n,o||{}),this.setPosition(this.options.position,!0),this.button=e,this.content=t,this.opened=!1;var i=this;this.button.on(this.options.trigger,function(){i.open()})};return o.prototype={setPosition:function(e,t){return"object"==typeof e?!e.v||!e.h||"below"!==e.v&&"above"!==e.h||"right"!==e.v&&"left"!==e.h?(t&&(this.options.position=n.position),!1):(this.position=e,!0):(e=e.split(" "),2!==e.length||"below"!==e[0]&&"above"!==e[0]||"right"!==e[1]&&"left"!==e[1]?(t&&(this.options.position=n.position),!1):(this.position={v:e[0],h:e[1]},!0))},position:function(){if(!this.popup)return!1;var e=this.options.relative_to.offset(),t=this.button.offset(),n=t.top-e.top,o=t.left-e.left,i=!1,s=!1;switch(this.options.position.v){case"below":n+=this.button.outerHeight();break;case"above":i=this.options.relative_to.innerHeight()-n}switch(this.options.position.h){case"right":s=this.options.relative_to.innerWidth()-o-this.button.outerWidth();break;case"left":}return s!==!1?this.popup.css("right",s+"px"):this.popup.css("left",o+"px"),i!==!1?this.popup.css("bottom",i+"px"):this.popup.css("top",n+"px"),!0},_getPopup:function(){if(this.popup)return this.popup;this.opened=!0,this.popup=$(e.render(this.options.template,{position:this.options.position.v+" "+this.options.position.h,cls:this.options.popup_class}));var t;t="function"==typeof this.content?$(this.content()):$(this.content);var n=this.popup.find(".x-popup-content").append(t);this.position(),this.options.max_height>0&&n.css("max-height",this.options.max_height+"px"),this.options.relative_to.css("position","relative").append(this.popup),this.popup.on("click",function(e){e.stopPropagation()});var o=this;return $("body").on("click",function(e){o.opened&&!$(e.target).closest(o.button).length>0&&o.close()}),this.popup},open:function(e){e&&(e.preventDefault(),e.stopPropagation()),this._getPopup(),this.opened||(this.opened=!0,this.popup.fadeIn())},close:function(){this.opened&&(this.opened=!1,this.popup.fadeOut())},isOpened:function(){return this.opened}},o}),define("text!includes/helpers/popup/language_switcher.html",[],function(){return'<ul>\n	{{#languages}}\n	<li><a href="{{{ url }}}"><span class="flag-small flag-{{{ country }}}"></span> {{ name }}</a></li>\n	{{/languages}}\n</ul>'}),define("includes/helpers/popup/language_switcher",["mustache","../popup","text!./language_switcher.html"],function(e,t,n){var o=function(o,i,s){var a=[];for(var r in s)a.push({url:i+r,country:s[r].country.toLowerCase(),name:s[r].name});var l=function(){var t=[];for(var o in s)t.push({url:i+o,country:s[o].country.toLowerCase(),name:s[o].name});return e.render(n,{languages:t})};new t(o,l,{trigger:"click mouseclick",popup_class:"language-switcher-popup"})};return o}),require.config({paths:{jquery:"jquery",text:"text"},shim:{json3:{exports:"JSON"}},config:{text:{useXhr:function(e,t,n,o){if("/"===e.substr(0,1))return!0;if("http://static.xvideos.com/"===e.substr(0,26))return!0;if("http://static-hw.xvideos.com/"===e.substr(0,29))return!0;var i=t+"://"+n;return e.substr(0,i.length)===i?!0:!1}}}}),define("static/utils",window.xv.utils),define("static/dom",window.xv.dom),define("static/cookies",window.xv.cookies),define("static/thumbs",window.xv.thumbs),define("static/messages",window.xv.messages),require(["includes/ads"]),require(["respond"]),require(["config/main","includes/helpers/inline_loader","includes/helpers/popup/language_switcher"],function(e,t,n){console.info(e),t.setup("http://static-hw.xvideos.com/v3/img/skins/default/xv-inline-loader.gif"),e.data.action&&require(["skins/"+e.sitename+"/"+e.data.action]);var o=$("#mobile-login-btn a").first();if(o.length>0){var i=!1,s=o.offset(),a=$("#mobile-login-menu").css("top",s.top+o.outerHeight()+"px");o.on("click",function(){a.toggleClass("hidden"),i=!i}),$("body").on("click",function(e){i&&($(e.target).closest("#mobile-login-menu,#mobile-login-btn").length>0||(a.addClass("hidden"),i=!1))})}var r=$("#language-switcher");r.length>0&&n(r,"/change-language/",e.data.other_locales)}),define("skins/default",function(){});